{"version":3,"sources":["webpack://qiniu/webpack/universalModuleDefinition","webpack://qiniu/webpack/bootstrap","webpack://qiniu/./node_modules/core-js/library/modules/_core.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack://qiniu/./node_modules/core-js/library/modules/_global.js","webpack://qiniu/./node_modules/core-js/library/modules/_wks.js","webpack://qiniu/./node_modules/core-js/library/modules/_export.js","webpack://qiniu/./node_modules/core-js/library/modules/_is-object.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/helpers/interopRequireDefault.js","webpack://qiniu/./node_modules/core-js/library/modules/_an-object.js","webpack://qiniu/./node_modules/core-js/library/modules/_descriptors.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-dp.js","webpack://qiniu/./lib/utils.js","webpack://qiniu/./node_modules/core-js/library/modules/_hide.js","webpack://qiniu/./node_modules/core-js/library/modules/_has.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack://qiniu/./node_modules/core-js/library/modules/_ctx.js","webpack://qiniu/./node_modules/core-js/library/modules/_fails.js","webpack://qiniu/./node_modules/core-js/library/modules/_to-iobject.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/promise.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack://qiniu/./node_modules/core-js/library/modules/_a-function.js","webpack://qiniu/./node_modules/core-js/library/modules/_cof.js","webpack://qiniu/./node_modules/core-js/library/modules/_library.js","webpack://qiniu/./node_modules/core-js/library/modules/_iterators.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-keys.js","webpack://qiniu/./node_modules/core-js/library/modules/_set-to-string-tag.js","webpack://qiniu/./node_modules/core-js/library/modules/_to-object.js","webpack://qiniu/./node_modules/core-js/library/modules/_property-desc.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/helpers/interopRequireWildcard.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-pie.js","webpack://qiniu/./node_modules/core-js/library/modules/_uid.js","webpack://qiniu/./node_modules/core-js/library/modules/_meta.js","webpack://qiniu/./node_modules/core-js/library/modules/_for-of.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack://qiniu/./lib/base64.js","webpack://qiniu/./node_modules/core-js/library/modules/_dom-create.js","webpack://qiniu/./node_modules/core-js/library/modules/_to-primitive.js","webpack://qiniu/./node_modules/core-js/library/modules/_iobject.js","webpack://qiniu/./node_modules/core-js/library/modules/_defined.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-gopd.js","webpack://qiniu/./node_modules/core-js/library/modules/_to-integer.js","webpack://qiniu/./node_modules/core-js/library/modules/_redefine.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-create.js","webpack://qiniu/./node_modules/core-js/library/modules/_to-length.js","webpack://qiniu/./node_modules/core-js/library/modules/_shared-key.js","webpack://qiniu/./node_modules/core-js/library/modules/_shared.js","webpack://qiniu/./node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://qiniu/./node_modules/core-js/library/modules/web.dom.iterable.js","webpack://qiniu/./node_modules/core-js/library/modules/_wks-ext.js","webpack://qiniu/./node_modules/core-js/library/modules/_wks-define.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-gops.js","webpack://qiniu/./node_modules/core-js/library/modules/_array-methods.js","webpack://qiniu/./node_modules/core-js/library/modules/_redefine-all.js","webpack://qiniu/./node_modules/core-js/library/modules/_an-instance.js","webpack://qiniu/./node_modules/core-js/library/modules/_validate-collection.js","webpack://qiniu/./node_modules/core-js/library/modules/_new-promise-capability.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/object/create.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/object/set-prototype-of.js","webpack://qiniu/./lib/api.js","webpack://qiniu/./lib/upload/base.js","webpack://qiniu/./node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-sap.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/helpers/typeof.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.string.iterator.js","webpack://qiniu/./node_modules/core-js/library/modules/_iter-define.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-keys-internal.js","webpack://qiniu/./node_modules/core-js/library/modules/_html.js","webpack://qiniu/./node_modules/core-js/library/modules/_is-array.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-gopn.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-assign.js","webpack://qiniu/./node_modules/core-js/library/modules/_classof.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js","webpack://qiniu/./node_modules/core-js/library/modules/_species-constructor.js","webpack://qiniu/./node_modules/core-js/library/modules/_task.js","webpack://qiniu/./node_modules/core-js/library/modules/_perform.js","webpack://qiniu/./node_modules/core-js/library/modules/_promise-resolve.js","webpack://qiniu/./lib/config.js","webpack://qiniu/./lib/index.js","webpack://qiniu/./node_modules/core-js/library/fn/object/define-property.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.object.define-property.js","webpack://qiniu/./lib/upload/index.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack://qiniu/./node_modules/core-js/library/fn/object/get-own-property-descriptor.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack://qiniu/./node_modules/core-js/library/fn/symbol/iterator.js","webpack://qiniu/./node_modules/core-js/library/modules/_string-at.js","webpack://qiniu/./node_modules/core-js/library/modules/_iter-create.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-dps.js","webpack://qiniu/./node_modules/core-js/library/modules/_array-includes.js","webpack://qiniu/./node_modules/core-js/library/modules/_to-absolute-index.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-gpo.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.array.iterator.js","webpack://qiniu/./node_modules/core-js/library/modules/_add-to-unscopables.js","webpack://qiniu/./node_modules/core-js/library/modules/_iter-step.js","webpack://qiniu/./node_modules/core-js/library/fn/symbol/index.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.symbol.js","webpack://qiniu/./node_modules/core-js/library/modules/_enum-keys.js","webpack://qiniu/./node_modules/core-js/library/modules/_object-gopn-ext.js","webpack://qiniu/./node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack://qiniu/./node_modules/core-js/library/modules/es7.symbol.observable.js","webpack://qiniu/./node_modules/@babel/runtime-corejs2/core-js/weak-map.js","webpack://qiniu/./node_modules/core-js/library/fn/weak-map.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.weak-map.js","webpack://qiniu/./node_modules/core-js/library/modules/_array-species-create.js","webpack://qiniu/./node_modules/core-js/library/modules/_array-species-constructor.js","webpack://qiniu/./node_modules/core-js/library/modules/_collection-weak.js","webpack://qiniu/./node_modules/core-js/library/modules/_iter-call.js","webpack://qiniu/./node_modules/core-js/library/modules/_is-array-iter.js","webpack://qiniu/./node_modules/core-js/library/modules/core.get-iterator-method.js","webpack://qiniu/./node_modules/core-js/library/modules/_collection.js","webpack://qiniu/./node_modules/core-js/library/modules/es7.weak-map.of.js","webpack://qiniu/./node_modules/core-js/library/modules/_set-collection-of.js","webpack://qiniu/./node_modules/core-js/library/modules/es7.weak-map.from.js","webpack://qiniu/./node_modules/core-js/library/modules/_set-collection-from.js","webpack://qiniu/./node_modules/core-js/library/fn/object/keys.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.object.keys.js","webpack://qiniu/./lib/upload/resume.js","webpack://qiniu/./node_modules/core-js/library/fn/json/stringify.js","webpack://qiniu/./node_modules/core-js/library/fn/promise.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.promise.js","webpack://qiniu/./node_modules/core-js/library/modules/_invoke.js","webpack://qiniu/./node_modules/core-js/library/modules/_microtask.js","webpack://qiniu/./node_modules/core-js/library/modules/_user-agent.js","webpack://qiniu/./node_modules/core-js/library/modules/_set-species.js","webpack://qiniu/./node_modules/core-js/library/modules/_iter-detect.js","webpack://qiniu/./node_modules/core-js/library/modules/es7.promise.finally.js","webpack://qiniu/./node_modules/core-js/library/modules/es7.promise.try.js","webpack://qiniu/./node_modules/core-js/library/fn/object/assign.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.object.assign.js","webpack://qiniu/./node_modules/core-js/library/fn/object/create.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.object.create.js","webpack://qiniu/./node_modules/core-js/library/fn/object/set-prototype-of.js","webpack://qiniu/./node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack://qiniu/./node_modules/core-js/library/modules/_set-proto.js","webpack://qiniu/./node_modules/spark-md5/spark-md5.js","webpack://qiniu/./lib/pool.js","webpack://qiniu/./lib/upload/direct.js","webpack://qiniu/./lib/observable.js","webpack://qiniu/./lib/compress.js","webpack://qiniu/./node_modules/exif-js/exif.js","webpack://qiniu/./lib/logger/index.js","webpack://qiniu/./lib/logger/report-v3.js","webpack://qiniu/./lib/image.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","core","version","__e","global","Math","self","Function","__g","store","uid","USE_SYMBOL","ctx","hide","has","$export","type","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","expProto","target","undefined","C","a","b","this","arguments","length","apply","virtual","R","U","it","obj","isObject","TypeError","anObject","IE8_DOM_DEFINE","toPrimitive","dP","f","O","Attributes","e","_interopRequireDefault","_Object$defineProperty","getChunks","file","blockSize","chunkByteSize","MB","size","chunks","count","ceil","chunk","slice","push","isMetaDataValid","params","_keys","every","indexOf","isCustomVarsValid","sum","list","reduce","data","loaded","setLocalFileInfo","localKey","info","localStorage","setItem","_stringify","err","Error","createLocalKey","removeLocalFileInfo","getLocalFileInfo","localInfoString","getItem","_a","localInfo","JSON","parse","_b","getAuthHeaders","getHeadersForChunkUpload","token","header","__assign","getHeadersForMkFile","createXHR","computeMd5","__awaiter","buffer","spark","__generator","label","readAsArrayBuffer","sent","_sparkMd","ArrayBuffer","append","end","request","url","options","_promise","resolve","reject","xhr","open","method","onCreate","headers","headers_1","forEach","k","setRequestHeader","upload","addEventListener","evt","lengthComputable","onProgress","total","onreadystatechange","responseText","readyState","reqId","getResponseHeader","status","message","code","isRequestError","send","body","getPortFromUrl","match","groups","getDomainFromUrl","getPutPolicy","segments","split","ak","putPolicy","_base","urlSafeBase64Decode","bucket","scope","createObjectURL","URL","webkitURL","mozURL","getTransform","image","orientation","width","height","matrix","_iterator","_symbol","_assign","thisArg","_arguments","generator","fulfilled","step","next","rejected","result","done","then","y","g","_","trys","ops","verb","v","op","pop","pow","removeItem","Authorization","XMLHttpRequest","ActiveXObject","reader","FileReader","onload","onerror","createDesc","aFunction","fn","that","exec","IObject","defined","toString","$keys","enumBugKeys","keys","def","TAG","tag","stat","configurable","bitmap","writable","_Object$getOwnPropertyDescriptor","_typeof","_WeakMap","_getRequireWildcardCache","cache","newObj","hasPropertyDescriptor","desc","set","propertyIsEnumerable","id","px","random","concat","META","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","meta","KEY","NEED","fastKey","getWeak","onFreeze","isArrayIter","toLength","getIterFn","BREAK","RETURN","iterable","entries","ITERATOR","iterator","iterFn","index","utf8Encode","argString","start","stringl","string","utftext","c1","charCodeAt","enc","String","fromCharCode","RangeError","c2","base64Encode","h1","h2","h3","h4","bits","b64","ac","tmp_arr","charAt","join","base64Decode","o1","o2","o3","urlSafeBase64Encode","replace","document","is","createElement","val","valueOf","cof","pIE","toIObject","gOPD","getOwnPropertyDescriptor","floor","isNaN","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","style","display","appendChild","src","contentWindow","write","lt","close","Properties","toInteger","min","shared","SHARED","copyright","Iterators","TO_STRING_TAG","DOMIterables","NAME","Collection","proto","Array","LIBRARY","wksExt","$Symbol","getOwnPropertySymbols","toObject","asc","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","res","safe","Constructor","forbiddenField","_t","PromiseCapability","promise","$$resolve","$$reject","_interopRequireWildcard","getUpHosts","getUploadUrl","config","protocol","upHosts","host","hosts","upprotocol","uphost","region","_config","regionUphostMap","useCdnDomain","cdnUphost","srcUphost","up","acc","main","initUploadParts","uploadUrl","utils","uploadChunk","uploadInfo","getBaseUrl","uploadComplete","deleteUploadedChunks","uploadinfo","DEFAULT_CHUNK_SIZE","_api","GB","_default","Base","handlers","logger","xhrList","aborted","retryCount","disableStatisticsReport","checkByMD5","forceDirect","chunkSize","concurrentRequestLimit","putExtra","fname","onData","onError","onComplete","error","handleError","putFile","err_1","needRetry","notReachRetryCount","customVars","metadata","uploadAt","Date","getTime","run","sendLog","clear","warn","abort","stop","addXhr","report","remoteIp","port","duration","time","bytesSent","progress","upType","getProgressInfoItem","percent","fails","exp","_Symbol$iterator","_Symbol","constructor","$at","iterated","_i","point","redefine","$iterCreate","setToStringTag","getPrototypeOf","BUGGY","KEYS","VALUES","returnThis","DEFAULT","IS_SET","FORCED","methods","IteratorPrototype","getMethod","kind","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","arrayIndexOf","names","documentElement","isArray","arg","hiddenKeys","getOwnPropertyNames","DESCRIPTORS","getKeys","gOPS","$assign","assign","A","K","T","aLen","getSymbols","isEnum","j","ARG","tryGet","callee","SPECIES","D","defer","channel","invoke","html","cel","process","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","queue","ONREADYSTATECHANGE","listener","event","args","nextTick","now","port2","port1","onmessage","postMessage","importScripts","removeChild","setTimeout","newPromiseCapability","x","promiseCapability","z0","z1","z2","na0","as0","_logger","debugLogLevel","_observable","Observable","observer","manager","_upload","complete","_compress","_utils","_image","imageMogr2","watermark","imageInfo","exif","pipeline","$Object","_Object$keys","_exportNames","_direct","_resume","$getOwnPropertyDescriptor","TO_STRING","pos","descriptor","defineProperties","toAbsoluteIndex","IS_INCLUDES","el","fromIndex","max","ObjectProto","addToUnscopables","_k","Arguments","$fails","wks","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","gOPN","$JSON","stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","protoDesc","wrap","sym","isSymbol","$defineProperty","$defineProperties","$propertyIsEnumerable","E","$getOwnPropertyNames","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","symbols","windowNames","getWindowNames","WeakMap","InternalMap","each","weak","validate","NATIVE_WEAK_MAP","IS_IE11","WEAK_MAP","uncaughtFrozenStore","ufstore","wrapper","$WeakMap","getConstructor","_f","speciesConstructor","original","redefineAll","anInstance","forOf","createArrayMethod","$has","arrayFind","arrayFindIndex","_l","UncaughtFrozenStore","findUncaughtFrozen","entry","splice","ADDER","ret","ArrayProto","classof","getIteratorMethod","common","IS_WEAK","_c","IS_ADDER","setStrong","COLLECTION","of","from","mapping","cb","mapFn","nextItem","_extendStatics","_setPrototypeOf","_pool","__extends","__proto__","__","_super","Resume","pool","uploadChunks","_this","test","isPositiveInteger","initBeforeUploadChunks","Pool","chunkInfo","getLocalKey","map","enqueue","all","mkFileReq","shouldCheckMD5","reuseSaved","md5","requestOptions","response","uploadedList","updateChunkProgress","getUploadInfo","etag","uploadId","parts","partNumber","mimeType","updateMkFileProgress","infoMessage","mkFileProgress","notifyResumeProgress","Promise","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","task","microtask","newPromiseCapabilityModule","perform","userAgent","promiseResolve","PROMISE","versions","v8","$Promise","isNode","empty","FakePromise","PromiseRejectionEvent","isThenable","notify","isReject","_n","chain","_v","ok","_s","reaction","exited","handler","fail","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","console","unhandled","isUnhandled","emit","onunhandledrejection","reason","onrejectionhandled","$reject","_d","_w","$resolve","executor","onFulfilled","onRejected","capability","iter","remaining","$index","alreadyCalled","race","un","macrotask","Observer","MutationObserver","WebKitMutationObserver","head","last","flush","parent","navigator","standalone","toggle","node","createTextNode","observe","characterData","SAFE_CLOSING","riter","skipClosing","arr","onFinally","isFunction","setPrototypeOf","check","buggy","hex_chr","md5cycle","md5blk","md5blks","md5blk_array","md51","tail","tmp","lo","hi","state","substring","parseInt","md51_array","subarray","Uint8Array","rhex","hex","toUtf8","str","unescape","encodeURIComponent","utf8Str2ArrayBuffer","returnUInt8Array","buff","arrayBuffer2Utf8Str","concatenateArrayBuffers","first","second","byteLength","hexToBinaryString","bytes","substr","SparkMD5","reset","clamp","to","num","targetArray","sourceArray","begin","appendBinary","contents","_buff","_length","_hash","raw","_finish","getState","hash","setState","destroy","hashBinary","content","runTask","limit","processing","item","filter","processingNum","availableNum","Direct","formData","customVars_1","FormData","updateDirectProgress","finishDirectProgress","Subscriber","_typeof2","observerOrNext","isStopped","destination","unsubscribe","closed","Subscription","_unsubscribe","add","teardown","_subscribe","subscribe","sink","_exifJs","__read","ar","__spread","mimeTypes","PNG","JPEG","WEBP","BMP","scaleFactor","log","supportMimeTypes","defaultType","Compress","quality","noCompressIfLarger","srcDimension","originImage","canvas","scale","scaleCanvas","distBlob","outputType","includes","getOriginImage","getCanvas","maxWidth","maxHeight","doScale","toBlob","dist","fillStyle","fillRect","clearRect","img","Image","EXIF","getData","getTag","context","getContext","transform","drawImage","sctx","steps","factor","mirror","mctx","originWidth","originHeight","dw","dh","getImageData","putImageData","dataURL","toDataURL","atob","_char","Blob","debug","EXIFwrapped","ExifTags","Tags","TiffTags","GPSTags","0","IFD1Tags","StringValues","ExposureProgram","1","2","3","4","5","6","7","8","MeteringMode","255","LightSource","9","10","11","12","13","14","15","17","18","19","20","21","22","23","24","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","Components","imageHasData","callback","handleBinaryFile","binFile","findEXIFinJPEG","exifdata","iptcdata","dataView","DataView","getUint8","offset","isFieldSegmentStart","nameHeaderLength","readIPTCData","getUint16","findIPTCinJPEG","isXmpEnabled","xmpdata","dom","DOMParser","getStringFromDB","startOffset","sectionLength","xmpString","xmpEndIndex","indexOfXmp","xml2Object","parseFromString","findXMPinJPEG","base64","contentType","binary","len","view","base64ToArrayBuffer","fileReader","http","responseType","objectURLToBlob","blob","File","readEXIFData","IptcFieldMap","fieldValue","fieldName","dataSize","segmentType","segmentStartPos","getInt16","readTags","tiffStart","dirStart","strings","bigEnd","entryOffset","tags","readTagValue","vals","numerator","denominator","numValues","getUint32","valueOffset","Number","getInt32","outstr","exifData","gpsData","tiffOffset","firstIFDOffset","ExifIFDPointer","GPSInfoIFDPointer","IFD1OffsetPointer","getNextIFDOffset","thumbTags","JpegIFOffset","JpegIFByteCount","tOffset","tLength","readThumbnailImage","xml2json","xml","json","nodeType","attributes","attribute","nodeName","nodeValue","hasChildNodes","childNodes","child","old","children","idx","itemAtt","dataKey","dataValue","textContent","enableXmp","disableXmp","HTMLImageElement","getIptcTag","getAllTags","getAllIptcTags","pretty","strPretty","readFromBinaryFile","_reportV","Logger","disableReport","level","retry","reportV3","allowLevel","stringifyData","imageView2","getImageUrl","option","errOp","imageUrl","fop","length_1","h","q","format","autoOrient","thumbnail","strip","gravity","crop","rotate","blur","text","font","fontsize","fill","dissolve","dx","dy"],"mappings":"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","file":"qiniu.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"qiniu\"] = factory();\n\telse\n\t\troot[\"qiniu\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 78);\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = require(\"core-js/library/fn/object/define-property\");","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.getChunks = getChunks;\nexports.isMetaDataValid = isMetaDataValid;\nexports.isCustomVarsValid = isCustomVarsValid;\nexports.sum = sum;\nexports.setLocalFileInfo = setLocalFileInfo;\nexports.createLocalKey = createLocalKey;\nexports.removeLocalFileInfo = removeLocalFileInfo;\nexports.getLocalFileInfo = getLocalFileInfo;\nexports.getAuthHeaders = getAuthHeaders;\nexports.getHeadersForChunkUpload = getHeadersForChunkUpload;\nexports.getHeadersForMkFile = getHeadersForMkFile;\nexports.createXHR = createXHR;\nexports.computeMd5 = computeMd5;\nexports.readAsArrayBuffer = readAsArrayBuffer;\nexports.request = request;\nexports.getPortFromUrl = getPortFromUrl;\nexports.getDomainFromUrl = getDomainFromUrl;\nexports.getPutPolicy = getPutPolicy;\nexports.createObjectURL = createObjectURL;\nexports.getTransform = getTransform;\nexports.MB = void 0;\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _sparkMd = _interopRequireDefault(require(\"spark-md5\"));\n\nvar _base = require(\"./base64\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = _assign[\"default\"] || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = _promise[\"default\"]))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof _symbol[\"default\"] === \"function\" && (g[_iterator[\"default\"]] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar MB = Math.pow(1024, 2); // 文件分块\n\nexports.MB = MB;\n\nfunction getChunks(file, blockSize) {\n  var chunkByteSize = blockSize * MB; // 转换为字节\n  // 如果 chunkByteSize 比文件大，则直接取文件的大小\n\n  if (chunkByteSize > file.size) {\n    chunkByteSize = file.size;\n  } else {\n    // 因为最多 10000 chunk，所以如果 chunkSize 不符合则把每片 chunk 大小扩大两倍\n    while (file.size > chunkByteSize * 10000) {\n      chunkByteSize *= 2;\n    }\n  }\n\n  var chunks = [];\n  var count = Math.ceil(file.size / chunkByteSize);\n\n  for (var i = 0; i < count; i++) {\n    var chunk = file.slice(chunkByteSize * i, i === count - 1 ? file.size : chunkByteSize * (i + 1));\n    chunks.push(chunk);\n  }\n\n  return chunks;\n}\n\nfunction isMetaDataValid(params) {\n  return (0, _keys[\"default\"])(params).every(function (key) {\n    return key.indexOf('x-qn-meta-') === 0;\n  });\n}\n\nfunction isCustomVarsValid(params) {\n  return (0, _keys[\"default\"])(params).every(function (key) {\n    return key.indexOf('x:') === 0;\n  });\n}\n\nfunction sum(list) {\n  return list.reduce(function (data, loaded) {\n    return data + loaded;\n  }, 0);\n}\n\nfunction setLocalFileInfo(localKey, info) {\n  try {\n    localStorage.setItem(localKey, (0, _stringify[\"default\"])(info));\n  } catch (err) {\n    throw new Error(\"setLocalFileInfo failed: \" + localKey);\n  }\n}\n\nfunction createLocalKey(name, key, size) {\n  var localKey = key == null ? '_' : \"_key_\" + key + \"_\";\n  return \"qiniu_js_sdk_upload_file_name_\" + name + localKey + \"size_\" + size;\n}\n\nfunction removeLocalFileInfo(localKey) {\n  try {\n    localStorage.removeItem(localKey);\n  } catch (err) {\n    throw new Error(\"removeLocalFileInfo failed. key: \" + localKey);\n  }\n}\n\nfunction getLocalFileInfo(localKey) {\n  var localInfoString = null;\n\n  try {\n    localInfoString = localStorage.getItem(localKey);\n  } catch (_a) {\n    throw new Error(\"getLocalFileInfo failed. key: \" + localKey);\n  }\n\n  if (localInfoString == null) {\n    return null;\n  }\n\n  var localInfo = null;\n\n  try {\n    localInfo = JSON.parse(localInfoString);\n  } catch (_b) {\n    // 本地信息已被破坏，直接删除\n    removeLocalFileInfo(localKey);\n    throw new Error(\"getLocalFileInfo failed to parse. key: \" + localKey);\n  }\n\n  return localInfo;\n}\n\nfunction getAuthHeaders(token) {\n  var auth = 'UpToken ' + token;\n  return {\n    Authorization: auth\n  };\n}\n\nfunction getHeadersForChunkUpload(token) {\n  var header = getAuthHeaders(token);\n  return __assign({\n    'content-type': 'application/octet-stream'\n  }, header);\n}\n\nfunction getHeadersForMkFile(token) {\n  var header = getAuthHeaders(token);\n  return __assign({\n    'content-type': 'application/json'\n  }, header);\n}\n\nfunction createXHR() {\n  if (window.XMLHttpRequest) {\n    return new XMLHttpRequest();\n  }\n\n  return window.ActiveXObject('Microsoft.XMLHTTP');\n}\n\nfunction computeMd5(data) {\n  return __awaiter(this, void 0, void 0, function () {\n    var buffer, spark;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , readAsArrayBuffer(data)];\n\n        case 1:\n          buffer = _a.sent();\n          spark = new _sparkMd[\"default\"].ArrayBuffer();\n          spark.append(buffer);\n          return [2\n          /*return*/\n          , spark.end()];\n      }\n    });\n  });\n}\n\nfunction readAsArrayBuffer(data) {\n  return new _promise[\"default\"](function (resolve, reject) {\n    var reader = new FileReader(); // evt 类型目前存在问题 https://github.com/Microsoft/TypeScript/issues/4163\n\n    reader.onload = function (evt) {\n      if (evt.target) {\n        var body = evt.target.result;\n        resolve(body);\n      } else {\n        reject(new Error('progress event target is undefined'));\n      }\n    };\n\n    reader.onerror = function () {\n      reject(new Error('fileReader read failed'));\n    };\n\n    reader.readAsArrayBuffer(data);\n  });\n}\n\nfunction request(url, options) {\n  return new _promise[\"default\"](function (resolve, reject) {\n    var xhr = createXHR();\n    xhr.open(options.method, url);\n\n    if (options.onCreate) {\n      options.onCreate(xhr);\n    }\n\n    if (options.headers) {\n      var headers_1 = options.headers;\n      (0, _keys[\"default\"])(headers_1).forEach(function (k) {\n        xhr.setRequestHeader(k, headers_1[k]);\n      });\n    }\n\n    xhr.upload.addEventListener('progress', function (evt) {\n      if (evt.lengthComputable && options.onProgress) {\n        options.onProgress({\n          loaded: evt.loaded,\n          total: evt.total\n        });\n      }\n    });\n\n    xhr.onreadystatechange = function () {\n      var responseText = xhr.responseText;\n\n      if (xhr.readyState !== 4) {\n        return;\n      }\n\n      var reqId = xhr.getResponseHeader('x-reqId') || '';\n\n      if (xhr.status !== 200) {\n        var message = \"xhr request failed, code: \" + xhr.status;\n\n        if (responseText) {\n          message += \" response: \" + responseText;\n        }\n\n        reject({\n          code: xhr.status,\n          message: message,\n          reqId: reqId,\n          isRequestError: true\n        });\n        return;\n      }\n\n      try {\n        resolve({\n          data: JSON.parse(responseText),\n          reqId: reqId\n        });\n      } catch (err) {\n        reject(err);\n      }\n    };\n\n    xhr.send(options.body);\n  });\n}\n\nfunction getPortFromUrl(url) {\n  if (url && url.match) {\n    var groups = url.match(/(^https?)/);\n\n    if (!groups) {\n      return '';\n    }\n\n    var type = groups[1];\n    groups = url.match(/^https?:\\/\\/([^:^/]*):(\\d*)/);\n\n    if (groups) {\n      return groups[2];\n    }\n\n    if (type === 'http') {\n      return '80';\n    }\n\n    return '443';\n  }\n\n  return '';\n}\n\nfunction getDomainFromUrl(url) {\n  if (url && url.match) {\n    var groups = url.match(/^https?:\\/\\/([^:^/]*)/);\n    return groups ? groups[1] : '';\n  }\n\n  return '';\n}\n\nfunction getPutPolicy(token) {\n  var segments = token.split(':'); // token 构造的差异参考：https://github.com/qbox/product/blob/master/kodo/auths/UpToken.md#admin-uptoken-authorization\n\n  var ak = segments.length > 3 ? segments[1] : segments[0];\n  var putPolicy = JSON.parse((0, _base.urlSafeBase64Decode)(segments[segments.length - 1]));\n  return {\n    ak: ak,\n    bucket: putPolicy.scope.split(':')[0]\n  };\n}\n\nfunction createObjectURL(file) {\n  var URL = window.URL || window.webkitURL || window.mozURL;\n  return URL.createObjectURL(file);\n}\n\nfunction getTransform(image, orientation) {\n  var width = image.width,\n      height = image.height;\n\n  switch (orientation) {\n    case 1:\n      // default\n      return {\n        width: width,\n        height: height,\n        matrix: [1, 0, 0, 1, 0, 0]\n      };\n\n    case 2:\n      // horizontal flip\n      return {\n        width: width,\n        height: height,\n        matrix: [-1, 0, 0, 1, width, 0]\n      };\n\n    case 3:\n      // 180° rotated\n      return {\n        width: width,\n        height: height,\n        matrix: [-1, 0, 0, -1, width, height]\n      };\n\n    case 4:\n      // vertical flip\n      return {\n        width: width,\n        height: height,\n        matrix: [1, 0, 0, -1, 0, height]\n      };\n\n    case 5:\n      // vertical flip + -90° rotated\n      return {\n        width: height,\n        height: width,\n        matrix: [0, 1, 1, 0, 0, 0]\n      };\n\n    case 6:\n      // -90° rotated\n      return {\n        width: height,\n        height: width,\n        matrix: [0, 1, -1, 0, height, 0]\n      };\n\n    case 7:\n      // horizontal flip + -90° rotate\n      return {\n        width: height,\n        height: width,\n        matrix: [0, -1, -1, 0, height, width]\n      };\n\n    case 8:\n      // 90° rotated\n      return {\n        width: height,\n        height: width,\n        matrix: [0, -1, 1, 0, 0, width]\n      };\n\n    default:\n      throw new Error(\"orientation \" + orientation + \" is unavailable\");\n  }\n}","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = require(\"core-js/library/fn/symbol/iterator\");","module.exports = require(\"core-js/library/fn/symbol\");","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","module.exports = require(\"core-js/library/fn/promise\");","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","module.exports = true;\n","module.exports = {};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\nvar _typeof = require(\"@babel/runtime-corejs2/helpers/typeof\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs2/core-js/weak-map\");\n\nfunction _getRequireWildcardCache() {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cache = new _WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = _Object$defineProperty && _Object$getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","exports.f = {}.propertyIsEnumerable;\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","module.exports = require(\"core-js/library/fn/object/keys\");","\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.utf8Encode = utf8Encode;\nexports.base64Encode = base64Encode;\nexports.base64Decode = base64Decode;\nexports.urlSafeBase64Encode = urlSafeBase64Encode;\nexports.urlSafeBase64Decode = urlSafeBase64Decode;\n\n/* eslint-disable */\nfunction utf8Encode(argString) {\n  // http://kevin.vanzonneveld.net\n  // +   original by: Webtoolkit.info (http://www.webtoolkit.info/)\n  // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // +   improved by: sowberry\n  // +    tweaked by: Jack\n  // +   bugfixed by: Onno Marsman\n  // +   improved by: Yves Sucaet\n  // +   bugfixed by: Onno Marsman\n  // +   bugfixed by: Ulrich\n  // +   bugfixed by: Rafal Kukawski\n  // +   improved by: kirilloid\n  // +   bugfixed by: kirilloid\n  // *     example 1: this.utf8Encode('Kevin van Zonneveld')\n  // *     returns 1: 'Kevin van Zonneveld'\n  if (argString === null || typeof argString === 'undefined') {\n    return '';\n  }\n\n  var string = argString + ''; // .replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n')\n\n  var utftext = '',\n      start,\n      end,\n      stringl = 0;\n  start = end = 0;\n  stringl = string.length;\n\n  for (var n = 0; n < stringl; n++) {\n    var c1 = string.charCodeAt(n);\n    var enc = null;\n\n    if (c1 < 128) {\n      end++;\n    } else if (c1 > 127 && c1 < 2048) {\n      enc = String.fromCharCode(c1 >> 6 | 192, c1 & 63 | 128);\n    } else if ((c1 & 0xf800 ^ 0xd800) > 0) {\n      enc = String.fromCharCode(c1 >> 12 | 224, c1 >> 6 & 63 | 128, c1 & 63 | 128);\n    } else {\n      // surrogate pairs\n      if ((c1 & 0xfc00 ^ 0xd800) > 0) {\n        throw new RangeError('Unmatched trail surrogate at ' + n);\n      }\n\n      var c2 = string.charCodeAt(++n);\n\n      if ((c2 & 0xfc00 ^ 0xdc00) > 0) {\n        throw new RangeError('Unmatched lead surrogate at ' + (n - 1));\n      }\n\n      c1 = ((c1 & 0x3ff) << 10) + (c2 & 0x3ff) + 0x10000;\n      enc = String.fromCharCode(c1 >> 18 | 240, c1 >> 12 & 63 | 128, c1 >> 6 & 63 | 128, c1 & 63 | 128);\n    }\n\n    if (enc !== null) {\n      if (end > start) {\n        utftext += string.slice(start, end);\n      }\n\n      utftext += enc;\n      start = end = n + 1;\n    }\n  }\n\n  if (end > start) {\n    utftext += string.slice(start, stringl);\n  }\n\n  return utftext;\n}\n\nfunction base64Encode(data) {\n  // http://kevin.vanzonneveld.net\n  // +   original by: Tyler Akins (http://rumkin.com)\n  // +   improved by: Bayron Guevara\n  // +   improved by: Thunder.m\n  // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // +   bugfixed by: Pellentesque Malesuada\n  // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // -    depends on: this.utf8Encode\n  // *     example 1: this.base64Encode('Kevin van Zonneveld')\n  // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n  // mozilla has this native\n  // - but breaks in 2.0.0.12!\n  // if (typeof this.window['atob'] == 'function') {\n  //    return atob(data)\n  // }\n  var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  var o1,\n      o2,\n      o3,\n      h1,\n      h2,\n      h3,\n      h4,\n      bits,\n      i = 0,\n      ac = 0,\n      enc = '',\n      tmp_arr = [];\n\n  if (!data) {\n    return data;\n  }\n\n  data = utf8Encode(data + '');\n\n  do {\n    // pack three octets into four hexets\n    o1 = data.charCodeAt(i++);\n    o2 = data.charCodeAt(i++);\n    o3 = data.charCodeAt(i++);\n    bits = o1 << 16 | o2 << 8 | o3;\n    h1 = bits >> 18 & 0x3f;\n    h2 = bits >> 12 & 0x3f;\n    h3 = bits >> 6 & 0x3f;\n    h4 = bits & 0x3f; // use hexets to index into b64, and append result to encoded string\n\n    tmp_arr[ac++] = b64.charAt(h1) + b64.charAt(h2) + b64.charAt(h3) + b64.charAt(h4);\n  } while (i < data.length);\n\n  enc = tmp_arr.join('');\n\n  switch (data.length % 3) {\n    case 1:\n      enc = enc.slice(0, -2) + '==';\n      break;\n\n    case 2:\n      enc = enc.slice(0, -1) + '=';\n      break;\n  }\n\n  return enc;\n}\n\nfunction base64Decode(data) {\n  // http://kevin.vanzonneveld.net\n  // +   original by: Tyler Akins (http://rumkin.com)\n  // +   improved by: Thunder.m\n  // +      input by: Aman Gupta\n  // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // +   bugfixed by: Onno Marsman\n  // +   bugfixed by: Pellentesque Malesuada\n  // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // +      input by: Brett Zamir (http://brett-zamir.me)\n  // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n  // *     example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==')\n  // *     returns 1: 'Kevin van Zonneveld'\n  // mozilla has this native\n  // - but breaks in 2.0.0.12!\n  // if (typeof this.window['atob'] == 'function') {\n  //    return atob(data)\n  // }\n  var b64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n  var o1,\n      o2,\n      o3,\n      h1,\n      h2,\n      h3,\n      h4,\n      bits,\n      i = 0,\n      ac = 0,\n      dec = '',\n      tmp_arr = [];\n\n  if (!data) {\n    return data;\n  }\n\n  data += '';\n\n  do {\n    // unpack four hexets into three octets using index points in b64\n    h1 = b64.indexOf(data.charAt(i++));\n    h2 = b64.indexOf(data.charAt(i++));\n    h3 = b64.indexOf(data.charAt(i++));\n    h4 = b64.indexOf(data.charAt(i++));\n    bits = h1 << 18 | h2 << 12 | h3 << 6 | h4;\n    o1 = bits >> 16 & 0xff;\n    o2 = bits >> 8 & 0xff;\n    o3 = bits & 0xff;\n\n    if (h3 === 64) {\n      tmp_arr[ac++] = String.fromCharCode(o1);\n    } else if (h4 === 64) {\n      tmp_arr[ac++] = String.fromCharCode(o1, o2);\n    } else {\n      tmp_arr[ac++] = String.fromCharCode(o1, o2, o3);\n    }\n  } while (i < data.length);\n\n  dec = tmp_arr.join('');\n  return dec;\n}\n\nfunction urlSafeBase64Encode(v) {\n  v = base64Encode(v);\n  return v.replace(/\\//g, '_').replace(/\\+/g, '-');\n}\n\nfunction urlSafeBase64Decode(v) {\n  v = v.replace(/_/g, '/').replace(/-/g, '+');\n  return base64Decode(v);\n}","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","module.exports = require('./_hide');\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","exports.f = require('./_wks');\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.getUpHosts = getUpHosts;\nexports.getUploadUrl = getUploadUrl;\nexports.initUploadParts = initUploadParts;\nexports.uploadChunk = uploadChunk;\nexports.uploadComplete = uploadComplete;\nexports.deleteUploadedChunks = deleteUploadedChunks;\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar utils = _interopRequireWildcard(require(\"./utils\"));\n\nvar _config = require(\"./config\");\n\nvar _base = require(\"./base64\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = _assign[\"default\"] || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = _promise[\"default\"]))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof _symbol[\"default\"] === \"function\" && (g[_iterator[\"default\"]] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nfunction getUpHosts(token, protocol) {\n  return __awaiter(this, void 0, void 0, function () {\n    var putPolicy, url;\n    return __generator(this, function (_a) {\n      putPolicy = utils.getPutPolicy(token);\n      url = protocol + '//api.qiniu.com/v2/query?ak=' + putPolicy.ak + '&bucket=' + putPolicy.bucket;\n      return [2\n      /*return*/\n      , utils.request(url, {\n        method: 'GET'\n      })];\n    });\n  });\n}\n/** 获取上传url */\n\n\nfunction getUploadUrl(config, token) {\n  return __awaiter(this, void 0, void 0, function () {\n    var protocol, upHosts, host, res, hosts;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          protocol = config.upprotocol || 'https:';\n\n          if (config.uphost) {\n            return [2\n            /*return*/\n            , protocol + \"//\" + config.uphost];\n          }\n\n          if (config.region) {\n            upHosts = _config.regionUphostMap[config.region];\n            host = config.useCdnDomain ? upHosts.cdnUphost : upHosts.srcUphost;\n            return [2\n            /*return*/\n            , protocol + \"//\" + host];\n          }\n\n          return [4\n          /*yield*/\n          , getUpHosts(token, protocol)];\n\n        case 1:\n          res = _a.sent();\n          hosts = res.data.up.acc.main;\n          return [2\n          /*return*/\n          , protocol + \"//\" + hosts[0]];\n      }\n    });\n  });\n}\n/**\n * @param bucket 空间名\n * @param key 目标文件名\n * @param uploadInfo 上传信息\n */\n\n\nfunction getBaseUrl(bucket, key, uploadInfo) {\n  var url = uploadInfo.url,\n      id = uploadInfo.id;\n  return url + \"/buckets/\" + bucket + \"/objects/\" + (key != null ? (0, _base.urlSafeBase64Encode)(key) : '~') + \"/uploads/\" + id;\n}\n/**\n * @param token 上传鉴权凭证\n * @param bucket 上传空间\n * @param key 目标文件名\n * @param uploadUrl 上传地址\n */\n\n\nfunction initUploadParts(token, bucket, key, uploadUrl) {\n  var url = uploadUrl + \"/buckets/\" + bucket + \"/objects/\" + (key != null ? (0, _base.urlSafeBase64Encode)(key) : '~') + \"/uploads\";\n  return utils.request(url, {\n    method: 'POST',\n    headers: utils.getAuthHeaders(token)\n  });\n}\n/**\n * @param token 上传鉴权凭证\n * @param index 当前 chunk 的索引\n * @param uploadInfo 上传信息\n * @param options 请求参数\n */\n\n\nfunction uploadChunk(token, key, index, uploadInfo, options) {\n  var bucket = utils.getPutPolicy(token).bucket;\n  var url = getBaseUrl(bucket, key, uploadInfo) + (\"/\" + index);\n  return utils.request(url, __assign(__assign({}, options), {\n    method: 'PUT',\n    headers: utils.getHeadersForChunkUpload(token)\n  }));\n}\n/**\n * @param token 上传鉴权凭证\n * @param key 目标文件名\n * @param uploadInfo 上传信息\n * @param options 请求参数\n */\n\n\nfunction uploadComplete(token, key, uploadInfo, options) {\n  var bucket = utils.getPutPolicy(token).bucket;\n  var url = getBaseUrl(bucket, key, uploadInfo);\n  return utils.request(url, __assign(__assign({}, options), {\n    method: 'POST',\n    headers: utils.getHeadersForMkFile(token)\n  }));\n}\n/**\n * @param token 上传鉴权凭证\n * @param key 目标文件名\n * @param uploadInfo 上传信息\n */\n\n\nfunction deleteUploadedChunks(token, key, uploadinfo) {\n  var bucket = utils.getPutPolicy(token).bucket;\n  var url = getBaseUrl(bucket, key, uploadinfo);\n  return utils.request(url, {\n    method: 'DELETE',\n    headers: utils.getAuthHeaders(token)\n  });\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = exports.DEFAULT_CHUNK_SIZE = void 0;\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _api = require(\"../api\");\n\nvar utils = _interopRequireWildcard(require(\"../utils\"));\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = _assign[\"default\"] || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = _promise[\"default\"]))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof _symbol[\"default\"] === \"function\" && (g[_iterator[\"default\"]] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar DEFAULT_CHUNK_SIZE = 4; // 单位 MB\n\nexports.DEFAULT_CHUNK_SIZE = DEFAULT_CHUNK_SIZE;\nvar GB = Math.pow(1024, 3);\n\nvar Base =\n/** @class */\nfunction () {\n  function Base(options, handlers, logger) {\n    this.logger = logger;\n    this.xhrList = [];\n    this.aborted = false;\n    this.retryCount = 0;\n    this.config = __assign({\n      useCdnDomain: true,\n      disableStatisticsReport: false,\n      retryCount: 3,\n      checkByMD5: false,\n      uphost: '',\n      upprotocol: 'https:',\n      forceDirect: false,\n      chunkSize: DEFAULT_CHUNK_SIZE,\n      concurrentRequestLimit: 3\n    }, options.config);\n    logger.info('config inited.', this.config);\n    this.putExtra = __assign({\n      fname: ''\n    }, options.putExtra);\n    logger.info('putExtra inited.', this.putExtra);\n    this.file = options.file;\n    this.key = options.key;\n    this.token = options.token;\n    this.onData = handlers.onData;\n    this.onError = handlers.onError;\n    this.onComplete = handlers.onComplete;\n\n    try {\n      this.bucket = utils.getPutPolicy(this.token).bucket;\n    } catch (e) {\n      logger.error('get bucket from token failed.', e);\n      this.onError(e);\n    }\n  }\n\n  Base.prototype.handleError = function (message) {\n    var err = new Error(message);\n    this.logger.error(message);\n    this.onError(err);\n  };\n  /**\n   * @returns Promise 返回结果与上传最终状态无关，状态信息请通过 [Subscriber] 获取。\n   * @description 上传文件，状态信息请通过 [Subscriber] 获取。\n   */\n\n\n  Base.prototype.putFile = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, result, err_1, reqId, code, needRetry, notReachRetryCount;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            this.aborted = false;\n\n            if (!this.putExtra.fname) {\n              this.logger.info('use file.name as fname.');\n              this.putExtra.fname = this.file.name;\n            }\n\n            if (this.file.size > 10000 * GB) {\n              this.handleError('file size exceed maximum value 10000G.');\n              return [2\n              /*return*/\n              ];\n            }\n\n            if (this.putExtra.customVars) {\n              if (!utils.isCustomVarsValid(this.putExtra.customVars)) {\n                this.handleError('customVars key should start width x:.');\n                return [2\n                /*return*/\n                ];\n              }\n            }\n\n            if (this.putExtra.metadata) {\n              if (!utils.isMetaDataValid(this.putExtra.metadata)) {\n                this.handleError('metadata key should start with x-qn-meta-.');\n                return [2\n                /*return*/\n                ];\n              }\n            }\n\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1, 4,, 5]);\n\n            _a = this;\n            return [4\n            /*yield*/\n            , (0, _api.getUploadUrl)(this.config, this.token)];\n\n          case 2:\n            _a.uploadUrl = _b.sent();\n            this.logger.info('get uploadUrl from api.', this.uploadUrl);\n            this.uploadAt = new Date().getTime();\n            return [4\n            /*yield*/\n            , this.run()];\n\n          case 3:\n            result = _b.sent();\n            this.onComplete(result.data);\n            this.sendLog(result.reqId, 200);\n            return [2\n            /*return*/\n            ];\n\n          case 4:\n            err_1 = _b.sent();\n            this.logger.error(err_1);\n            this.clear();\n\n            if (err_1.isRequestError) {\n              reqId = this.aborted ? '' : err_1.reqId;\n              code = this.aborted ? -2 : err_1.code;\n              this.sendLog(reqId, code);\n            }\n\n            needRetry = err_1.isRequestError && err_1.code === 0 && !this.aborted;\n            notReachRetryCount = ++this.retryCount <= this.config.retryCount; // 以下条件满足其中之一则会进行重新上传：\n            // 1. 满足 needRetry 的条件且 retryCount 不为 0\n            // 2. uploadId 无效时在 resume 里会清除本地数据，并且这里触发重新上传\n\n            if (needRetry && notReachRetryCount || err_1.code === 612) {\n              this.logger.warn(\"error auto retry: \" + this.retryCount + \"/\" + this.config.retryCount + \".\");\n              this.putFile();\n              return [2\n              /*return*/\n              ];\n            }\n\n            this.onError(err_1);\n            return [3\n            /*break*/\n            , 5];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Base.prototype.clear = function () {\n    this.logger.info('start cleaning all xhr.');\n    this.xhrList.forEach(function (xhr) {\n      xhr.onreadystatechange = null;\n      xhr.abort();\n    });\n    this.logger.info('cleanup completed.');\n    this.xhrList = [];\n  };\n\n  Base.prototype.stop = function () {\n    this.logger.info('stop.');\n    this.clear();\n    this.aborted = true;\n  };\n\n  Base.prototype.addXhr = function (xhr) {\n    this.xhrList.push(xhr);\n  };\n\n  Base.prototype.sendLog = function (reqId, code) {\n    this.logger.report({\n      code: code,\n      reqId: reqId,\n      host: utils.getDomainFromUrl(this.uploadUrl),\n      remoteIp: '',\n      port: utils.getPortFromUrl(this.uploadUrl),\n      duration: (new Date().getTime() - this.uploadAt) / 1000,\n      time: Math.floor(this.uploadAt / 1000),\n      bytesSent: this.progress ? this.progress.total.loaded : 0,\n      upType: 'jssdk-h5',\n      size: this.file.size\n    });\n  };\n\n  Base.prototype.getProgressInfoItem = function (loaded, size) {\n    return {\n      loaded: loaded,\n      size: size,\n      percent: loaded / size * 100\n    };\n  };\n\n  return Base;\n}();\n\nvar _default = Base;\nexports[\"default\"] = _default;","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var _Symbol$iterator = require(\"@babel/runtime-corejs2/core-js/symbol/iterator\");\n\nvar _Symbol = require(\"@babel/runtime-corejs2/core-js/symbol\");\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","module.exports = require(\"core-js/library/fn/json/stringify\");","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.regionUphostMap = exports.region = void 0;\n\nvar _a;\n/** 上传区域 */\n\n\nvar region = {\n  z0: 'z0',\n  z1: 'z1',\n  z2: 'z2',\n  na0: 'na0',\n  as0: 'as0'\n};\n/** 上传区域对应的 host */\n\nexports.region = region;\nvar regionUphostMap = (_a = {}, _a[region.z0] = {\n  srcUphost: 'up.qiniup.com',\n  cdnUphost: 'upload.qiniup.com'\n}, _a[region.z1] = {\n  srcUphost: 'up-z1.qiniup.com',\n  cdnUphost: 'upload-z1.qiniup.com'\n}, _a[region.z2] = {\n  srcUphost: 'up-z2.qiniup.com',\n  cdnUphost: 'upload-z2.qiniup.com'\n}, _a[region.na0] = {\n  srcUphost: 'up-na0.qiniup.com',\n  cdnUphost: 'upload-na0.qiniup.com'\n}, _a[region.as0] = {\n  srcUphost: 'up-as0.qiniup.com',\n  cdnUphost: 'upload-as0.qiniup.com'\n}, _a);\nexports.regionUphostMap = regionUphostMap;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.upload = upload;\n\n_Object$defineProperty(exports, \"compressImage\", {\n  enumerable: true,\n  get: function get() {\n    return _compress[\"default\"];\n  }\n});\n\n_Object$defineProperty(exports, \"getHeadersForMkFile\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.getHeadersForMkFile;\n  }\n});\n\n_Object$defineProperty(exports, \"getHeadersForChunkUpload\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.getHeadersForChunkUpload;\n  }\n});\n\n_Object$defineProperty(exports, \"urlSafeBase64Encode\", {\n  enumerable: true,\n  get: function get() {\n    return _base.urlSafeBase64Encode;\n  }\n});\n\n_Object$defineProperty(exports, \"urlSafeBase64Decode\", {\n  enumerable: true,\n  get: function get() {\n    return _base.urlSafeBase64Decode;\n  }\n});\n\n_Object$defineProperty(exports, \"deleteUploadedChunks\", {\n  enumerable: true,\n  get: function get() {\n    return _api.deleteUploadedChunks;\n  }\n});\n\n_Object$defineProperty(exports, \"getUploadUrl\", {\n  enumerable: true,\n  get: function get() {\n    return _api.getUploadUrl;\n  }\n});\n\n_Object$defineProperty(exports, \"imageMogr2\", {\n  enumerable: true,\n  get: function get() {\n    return _image.imageMogr2;\n  }\n});\n\n_Object$defineProperty(exports, \"watermark\", {\n  enumerable: true,\n  get: function get() {\n    return _image.watermark;\n  }\n});\n\n_Object$defineProperty(exports, \"imageInfo\", {\n  enumerable: true,\n  get: function get() {\n    return _image.imageInfo;\n  }\n});\n\n_Object$defineProperty(exports, \"exif\", {\n  enumerable: true,\n  get: function get() {\n    return _image.exif;\n  }\n});\n\n_Object$defineProperty(exports, \"pipeline\", {\n  enumerable: true,\n  get: function get() {\n    return _image.pipeline;\n  }\n});\n\n_Object$defineProperty(exports, \"region\", {\n  enumerable: true,\n  get: function get() {\n    return _config.region;\n  }\n});\n\nvar _upload = _interopRequireDefault(require(\"./upload\"));\n\nvar _observable = require(\"./observable\");\n\nvar _compress = _interopRequireDefault(require(\"./compress\"));\n\nvar _logger = _interopRequireDefault(require(\"./logger\"));\n\nvar _utils = require(\"./utils\");\n\nvar _base = require(\"./base64\");\n\nvar _api = require(\"./api\");\n\nvar _image = require(\"./image\");\n\nvar _config = require(\"./config\");\n\n/**\n * @param file 上传文件\n * @param key 目标文件名\n * @param token 上传凭证\n * @param putExtra 上传文件的相关资源信息配置\n * @param config 上传任务的配置\n * @returns 返回用于上传任务的可观察对象\n */\nfunction upload(file, key, token, putExtra, config) {\n  var options = {\n    file: file,\n    key: key,\n    token: token,\n    putExtra: putExtra,\n    config: config\n  }; // 为每个任务创建单独的 Logger\n\n  var logger = new _logger[\"default\"](token, config === null || config === void 0 ? void 0 : config.disableStatisticsReport, config === null || config === void 0 ? void 0 : config.debugLogLevel);\n  return new _observable.Observable(function (observer) {\n    var manager = (0, _upload[\"default\"])(options, {\n      onData: function onData(data) {\n        return observer.next(data);\n      },\n      onError: function onError(err) {\n        return observer.error(err);\n      },\n      onComplete: function onComplete(res) {\n        return observer.complete(res);\n      }\n    }, logger);\n    manager.putFile();\n    return manager.stop.bind(manager);\n  });\n}","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _exportNames = {};\nexports[\"default\"] = createUploadManager;\n\nvar _resume = _interopRequireWildcard(require(\"./resume\"));\n\n_Object$keys(_resume).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n\n  _Object$defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _resume[key];\n    }\n  });\n});\n\nvar _direct = _interopRequireDefault(require(\"./direct\"));\n\nvar _utils = require(\"../utils\");\n\nvar _base = require(\"./base\");\n\n_Object$keys(_base).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n\n  _Object$defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _base[key];\n    }\n  });\n});\n\nfunction createUploadManager(options, handlers, logger) {\n  if (options.config && options.config.forceDirect) {\n    logger.info('ues forceDirect mode.');\n    return new _direct[\"default\"](options, handlers, logger);\n  }\n\n  if (options.file.size > 4 * _utils.MB) {\n    logger.info('file size over 4M, use Resume.');\n    return new _resume[\"default\"](options, handlers, logger);\n  }\n\n  logger.info('file size less or equal than 4M, use Direct.');\n  return new _direct[\"default\"](options, handlers, logger);\n}","module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","module.exports = require(\"core-js/library/fn/weak-map\");","require('../modules/es6.object.to-string');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.weak-map');\nrequire('../modules/es7.weak-map.of');\nrequire('../modules/es7.weak-map.from');\nmodule.exports = require('../modules/_core').WeakMap;\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.of\nrequire('./_set-collection-of')('WeakMap');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-weakmap.from\nrequire('./_set-collection-from')('WeakMap');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/json/stringify\"));\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/create\"));\n\nvar _setPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/set-prototype-of\"));\n\nvar utils = _interopRequireWildcard(require(\"../utils\"));\n\nvar _pool = require(\"../pool\");\n\nvar _api = require(\"../api\");\n\nvar _base = _interopRequireDefault(require(\"./base\"));\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = _setPrototypeOf[\"default\"] || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? (0, _create[\"default\"])(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = _assign[\"default\"] || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = _promise[\"default\"]))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof _symbol[\"default\"] === \"function\" && (g[_iterator[\"default\"]] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n/** 是否为正整数 */\nfunction isPositiveInteger(n) {\n  var re = /^[1-9]\\d*$/;\n  return re.test(String(n));\n}\n\nvar Resume =\n/** @class */\nfunction (_super) {\n  __extends(Resume, _super);\n\n  function Resume() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @returns  {Promise<ResponseSuccess<any>>}\n   * @description 实现了 Base 的 run 接口，处理具体的分片上传事务，并抛出过程中的异常。\n   */\n\n\n  Resume.prototype.run = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var pool, localKey, uploadChunks, result;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.logger.info('start run Resume.');\n\n            if (!this.config.chunkSize || !isPositiveInteger(this.config.chunkSize)) {\n              throw new Error('chunkSize must be a positive integer.');\n            }\n\n            if (this.config.chunkSize > 1024) {\n              throw new Error('chunkSize maximum value is 1024.');\n            }\n\n            return [4\n            /*yield*/\n            , this.initBeforeUploadChunks()];\n\n          case 1:\n            _a.sent();\n\n            pool = new _pool.Pool(function (chunkInfo) {\n              return _this.uploadChunk(chunkInfo);\n            }, this.config.concurrentRequestLimit);\n            localKey = this.getLocalKey();\n            uploadChunks = this.chunks.map(function (chunk, index) {\n              return pool.enqueue({\n                chunk: chunk,\n                index: index\n              });\n            });\n            result = _promise[\"default\"].all(uploadChunks).then(function () {\n              return _this.mkFileReq();\n            });\n            result.then(function () {\n              try {\n                utils.removeLocalFileInfo(localKey);\n              } catch (error) {\n                _this.logger.error(error);\n              }\n            }, function (err) {\n              _this.logger.error('uploadChunks failed.', err); // uploadId 无效，上传参数有误（多由于本地存储信息的 uploadId 失效\n\n\n              if (err.code === 612 || err.code === 400) {\n                try {\n                  utils.removeLocalFileInfo(localKey);\n                } catch (error) {\n                  _this.logger.error(error);\n                }\n              }\n            });\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  Resume.prototype.uploadChunk = function (chunkInfo) {\n    return __awaiter(this, void 0, void 0, function () {\n      var index, chunk, info, shouldCheckMD5, reuseSaved, md5, onProgress, requestOptions, response;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            index = chunkInfo.index, chunk = chunkInfo.chunk;\n            info = this.uploadedList[index];\n            this.logger.info(\"upload part \" + index + \".\", info);\n            shouldCheckMD5 = this.config.checkByMD5;\n\n            reuseSaved = function reuseSaved() {\n              _this.updateChunkProgress(chunk.size, index);\n            };\n\n            if (info && !shouldCheckMD5) {\n              reuseSaved();\n              return [2\n              /*return*/\n              ];\n            }\n\n            return [4\n            /*yield*/\n            , utils.computeMd5(chunk)];\n\n          case 1:\n            md5 = _a.sent();\n            this.logger.info(\"computed part md5.\", md5);\n\n            if (info && md5 === info.md5) {\n              reuseSaved();\n              return [2\n              /*return*/\n              ];\n            }\n\n            onProgress = function onProgress(data) {\n              _this.updateChunkProgress(data.loaded, index);\n            };\n\n            requestOptions = {\n              body: chunk,\n              onProgress: onProgress,\n              onCreate: function onCreate(xhr) {\n                return _this.addXhr(xhr);\n              }\n            };\n            this.logger.info(\"part \" + index + \" start uploading.\");\n            return [4\n            /*yield*/\n            , (0, _api.uploadChunk)(this.token, this.key, chunkInfo.index + 1, this.getUploadInfo(), requestOptions)];\n\n          case 2:\n            response = _a.sent();\n            this.logger.info(\"part \" + index + \" upload completed.\"); // 在某些浏览器环境下，xhr 的 progress 事件无法被触发，progress 为 null，这里在每次分片上传完成后都手动更新下 progress\n\n            onProgress({\n              loaded: chunk.size,\n              total: chunk.size\n            });\n            this.uploadedList[index] = {\n              etag: response.data.etag,\n              md5: response.data.md5,\n              size: chunk.size\n            };\n\n            try {\n              utils.setLocalFileInfo(this.getLocalKey(), {\n                id: this.uploadId,\n                data: this.uploadedList\n              });\n            } catch (error) {\n              this.logger.info(\"set part \" + index + \" cache failed.\", error);\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Resume.prototype.mkFileReq = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var data, result;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            data = __assign(__assign(__assign({\n              parts: this.uploadedList.map(function (value, index) {\n                return {\n                  etag: value.etag,\n                  partNumber: index + 1\n                };\n              }),\n              fname: this.putExtra.fname\n            }, this.putExtra.mimeType && {\n              mimeType: this.putExtra.mimeType\n            }), this.putExtra.customVars && {\n              customVars: this.putExtra.customVars\n            }), this.putExtra.metadata && {\n              metadata: this.putExtra.metadata\n            });\n            this.logger.info('parts upload completed, make file.', data);\n            return [4\n            /*yield*/\n            , (0, _api.uploadComplete)(this.token, this.key, this.getUploadInfo(), {\n              onCreate: function onCreate(xhr) {\n                return _this.addXhr(xhr);\n              },\n              body: (0, _stringify[\"default\"])(data)\n            })];\n\n          case 1:\n            result = _a.sent();\n            this.logger.info('finishResumeProgress.');\n            this.updateMkFileProgress(1);\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  Resume.prototype.initBeforeUploadChunks = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var localInfo, res, infoMessage;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            localInfo = null;\n\n            try {\n              localInfo = utils.getLocalFileInfo(this.getLocalKey());\n            } catch (error) {\n              this.logger.warn(error);\n            }\n\n            if (!!localInfo) return [3\n            /*break*/\n            , 2];\n            this.logger.info('resume upload parts from api.');\n            return [4\n            /*yield*/\n            , (0, _api.initUploadParts)(this.token, this.bucket, this.key, this.uploadUrl)];\n\n          case 1:\n            res = _a.sent();\n            this.logger.info(\"resume upload parts of id: \" + res.data.uploadId + \".\");\n            this.uploadId = res.data.uploadId;\n            this.uploadedList = [];\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            infoMessage = ['resume upload parts from local cache', \"total \" + localInfo.data.length + \" part\", \"id is \" + localInfo.id + \".\"];\n            this.logger.info(infoMessage.join(', '));\n            this.uploadedList = localInfo.data;\n            this.uploadId = localInfo.id;\n            _a.label = 3;\n\n          case 3:\n            this.chunks = utils.getChunks(this.file, this.config.chunkSize);\n            this.loaded = {\n              mkFileProgress: 0,\n              chunks: this.chunks.map(function (_) {\n                return 0;\n              })\n            };\n            this.notifyResumeProgress();\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  Resume.prototype.getUploadInfo = function () {\n    return {\n      id: this.uploadId,\n      url: this.uploadUrl\n    };\n  };\n\n  Resume.prototype.getLocalKey = function () {\n    return utils.createLocalKey(this.file.name, this.key, this.file.size);\n  };\n\n  Resume.prototype.updateChunkProgress = function (loaded, index) {\n    this.loaded.chunks[index] = loaded;\n    this.notifyResumeProgress();\n  };\n\n  Resume.prototype.updateMkFileProgress = function (progress) {\n    this.loaded.mkFileProgress = progress;\n    this.notifyResumeProgress();\n  };\n\n  Resume.prototype.notifyResumeProgress = function () {\n    var _this = this;\n\n    this.progress = {\n      total: this.getProgressInfoItem(utils.sum(this.loaded.chunks) + this.loaded.mkFileProgress, this.file.size + 1 // 防止在 complete 未调用的时候进度显示 100%\n      ),\n      chunks: this.chunks.map(function (chunk, index) {\n        return _this.getProgressInfoItem(_this.loaded.chunks[index], chunk.size);\n      }),\n      uploadInfo: {\n        id: this.uploadId,\n        url: this.uploadUrl\n      }\n    };\n    this.onData(this.progress);\n  };\n\n  return Resume;\n}(_base[\"default\"]);\n\nvar _default = Resume;\nexports[\"default\"] = _default;","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.Pool = void 0;\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar Pool =\n/** @class */\nfunction () {\n  function Pool(runTask, limit) {\n    this.runTask = runTask;\n    this.limit = limit;\n    this.queue = [];\n    this.processing = [];\n  }\n\n  Pool.prototype.enqueue = function (task) {\n    var _this = this;\n\n    return new _promise[\"default\"](function (resolve, reject) {\n      _this.queue.push({\n        task: task,\n        resolve: resolve,\n        reject: reject\n      });\n\n      _this.check();\n    });\n  };\n\n  Pool.prototype.run = function (item) {\n    var _this = this;\n\n    this.queue = this.queue.filter(function (v) {\n      return v !== item;\n    });\n    this.processing.push(item);\n    this.runTask(item.task).then(function () {\n      _this.processing = _this.processing.filter(function (v) {\n        return v !== item;\n      });\n      item.resolve();\n\n      _this.check();\n    }, function (err) {\n      return item.reject(err);\n    });\n  };\n\n  Pool.prototype.check = function () {\n    var _this = this;\n\n    var processingNum = this.processing.length;\n    var availableNum = this.limit - processingNum;\n    this.queue.slice(0, availableNum).forEach(function (item) {\n      _this.run(item);\n    });\n  };\n\n  return Pool;\n}();\n\nexports.Pool = Pool;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/create\"));\n\nvar _setPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/set-prototype-of\"));\n\nvar _utils = require(\"../utils\");\n\nvar _base = _interopRequireDefault(require(\"./base\"));\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = _setPrototypeOf[\"default\"] || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? (0, _create[\"default\"])(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = _promise[\"default\"]))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof _symbol[\"default\"] === \"function\" && (g[_iterator[\"default\"]] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar Direct =\n/** @class */\nfunction (_super) {\n  __extends(Direct, _super);\n\n  function Direct() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Direct.prototype.run = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var formData, customVars_1, result;\n\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.logger.info('start run Direct.');\n            formData = new FormData();\n            formData.append('file', this.file);\n            formData.append('token', this.token);\n\n            if (this.key != null) {\n              formData.append('key', this.key);\n            }\n\n            formData.append('fname', this.putExtra.fname);\n\n            if (this.putExtra.customVars) {\n              this.logger.info('init customVars.');\n              customVars_1 = this.putExtra.customVars;\n              (0, _keys[\"default\"])(customVars_1).forEach(function (key) {\n                return formData.append(key, customVars_1[key].toString());\n              });\n              this.logger.info('customVars inited.');\n            }\n\n            this.logger.info('formData inited.');\n            return [4\n            /*yield*/\n            , (0, _utils.request)(this.uploadUrl, {\n              method: 'POST',\n              body: formData,\n              onProgress: function onProgress(data) {\n                _this.updateDirectProgress(data.loaded, data.total);\n              },\n              onCreate: function onCreate(xhr) {\n                return _this.addXhr(xhr);\n              }\n            })];\n\n          case 1:\n            result = _a.sent();\n            this.logger.info('Direct progress finish.');\n            this.finishDirectProgress();\n            return [2\n            /*return*/\n            , result];\n        }\n      });\n    });\n  };\n\n  Direct.prototype.updateDirectProgress = function (loaded, total) {\n    // 当请求未完成时可能进度会达到100，所以total + 1来防止这种情况出现\n    this.progress = {\n      total: this.getProgressInfoItem(loaded, total + 1)\n    };\n    this.onData(this.progress);\n  };\n\n  Direct.prototype.finishDirectProgress = function () {\n    // 在某些浏览器环境下，xhr 的 progress 事件无法被触发，progress 为 null，这里 fake 下\n    if (!this.progress) {\n      this.logger.warn('progress is null.');\n      this.progress = {\n        total: this.getProgressInfoItem(this.file.size, this.file.size)\n      };\n      this.onData(this.progress);\n      return;\n    }\n\n    var total = this.progress.total;\n    this.progress = {\n      total: this.getProgressInfoItem(total.loaded + 1, total.size)\n    };\n    this.onData(this.progress);\n  };\n\n  return Direct;\n}(_base[\"default\"]);\n\nvar _default = Direct;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.Observable = exports.Subscriber = void 0;\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/typeof\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _create = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/create\"));\n\nvar _setPrototypeOf = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/set-prototype-of\"));\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = _setPrototypeOf[\"default\"] || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? (0, _create[\"default\"])(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = _assign[\"default\"] || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n/** 表示可清理的资源，比如 Observable 的执行 */\n\n\nvar Subscription =\n/** @class */\nfunction () {\n  function Subscription() {\n    /** 用来标示该 Subscription 是否被取消订阅的标示位 */\n    this.closed = false;\n  }\n  /** 取消 observer 的订阅 */\n\n\n  Subscription.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n\n    this.closed = true;\n\n    if (this._unsubscribe) {\n      this._unsubscribe();\n    }\n  };\n  /** 添加一个 tear down 在该 Subscription 的 unsubscribe() 期间调用 */\n\n\n  Subscription.prototype.add = function (teardown) {\n    this._unsubscribe = teardown;\n  };\n\n  return Subscription;\n}();\n/**\n * 实现 Observer 接口并且继承 Subscription 类，Observer 是消费 Observable 值的公有 API\n * 所有 Observers 都转化成了 Subscriber，以便提供类似 Subscription 的能力，比如 unsubscribe\n*/\n\n\nvar Subscriber =\n/** @class */\nfunction (_super) {\n  __extends(Subscriber, _super);\n\n  function Subscriber(observerOrNext, error, complete) {\n    var _this = _super.call(this) || this;\n\n    _this.isStopped = false;\n\n    if (observerOrNext && (0, _typeof2[\"default\"])(observerOrNext) === 'object') {\n      _this.destination = observerOrNext;\n    } else {\n      _this.destination = __assign(__assign(__assign({}, observerOrNext && {\n        next: observerOrNext\n      }), error && {\n        error: error\n      }), complete && {\n        complete: complete\n      });\n    }\n\n    return _this;\n  }\n\n  Subscriber.prototype.unsubscribe = function () {\n    if (this.closed) {\n      return;\n    }\n\n    this.isStopped = true;\n\n    _super.prototype.unsubscribe.call(this);\n  };\n\n  Subscriber.prototype.next = function (value) {\n    if (!this.isStopped && this.destination.next) {\n      this.destination.next(value);\n    }\n  };\n\n  Subscriber.prototype.error = function (err) {\n    if (!this.isStopped && this.destination.error) {\n      this.isStopped = true;\n      this.destination.error(err);\n    }\n  };\n\n  Subscriber.prototype.complete = function (result) {\n    if (!this.isStopped && this.destination.complete) {\n      this.isStopped = true;\n      this.destination.complete(result);\n    }\n  };\n\n  return Subscriber;\n}(Subscription);\n\nexports.Subscriber = Subscriber;\n\n/** 可观察对象，当前的上传事件的集合 */\nvar Observable =\n/** @class */\nfunction () {\n  function Observable(_subscribe) {\n    this._subscribe = _subscribe;\n  }\n\n  Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n    var sink = new Subscriber(observerOrNext, error, complete);\n    sink.add(this._subscribe(sink));\n    return sink;\n  };\n\n  return Observable;\n}();\n\nexports.Observable = Observable;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/keys\"));\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));\n\nvar _assign = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/assign\"));\n\nvar _exifJs = require(\"exif-js\");\n\nvar _utils = require(\"./utils\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = _assign[\"default\"] || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = _promise[\"default\"]))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = void 0 && (void 0).__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof _symbol[\"default\"] === \"function\" && (g[_iterator[\"default\"]] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __read = void 0 && (void 0).__read || function (o, n) {\n  var m = typeof _symbol[\"default\"] === \"function\" && o[_iterator[\"default\"]];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = void 0 && (void 0).__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nvar mimeTypes = {\n  PNG: 'image/png',\n  JPEG: 'image/jpeg',\n  WEBP: 'image/webp',\n  BMP: 'image/bmp'\n};\nvar maxSteps = 4;\nvar scaleFactor = Math.log(2);\nvar supportMimeTypes = (0, _keys[\"default\"])(mimeTypes).map(function (type) {\n  return mimeTypes[type];\n});\nvar defaultType = mimeTypes.JPEG;\n\nfunction isSupportedType(type) {\n  return supportMimeTypes.includes(type);\n}\n\nvar Compress =\n/** @class */\nfunction () {\n  function Compress(file, config) {\n    this.file = file;\n    this.config = config;\n    this.config = __assign({\n      quality: 0.92,\n      noCompressIfLarger: false\n    }, this.config);\n  }\n\n  Compress.prototype.process = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var srcDimension, originImage, canvas, scale, scaleCanvas, distBlob;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.outputType = this.file.type;\n            srcDimension = {};\n\n            if (!isSupportedType(this.file.type)) {\n              throw new Error(\"unsupported file type: \" + this.file.type);\n            }\n\n            return [4\n            /*yield*/\n            , this.getOriginImage()];\n\n          case 1:\n            originImage = _a.sent();\n            return [4\n            /*yield*/\n            , this.getCanvas(originImage)];\n\n          case 2:\n            canvas = _a.sent();\n            scale = 1;\n\n            if (this.config.maxWidth) {\n              scale = Math.min(1, this.config.maxWidth / canvas.width);\n            }\n\n            if (this.config.maxHeight) {\n              scale = Math.min(1, scale, this.config.maxHeight / canvas.height);\n            }\n\n            srcDimension.width = canvas.width;\n            srcDimension.height = canvas.height;\n            return [4\n            /*yield*/\n            , this.doScale(canvas, scale)];\n\n          case 3:\n            scaleCanvas = _a.sent();\n            distBlob = this.toBlob(scaleCanvas);\n\n            if (distBlob.size > this.file.size && this.config.noCompressIfLarger) {\n              return [2\n              /*return*/\n              , {\n                dist: this.file,\n                width: srcDimension.width,\n                height: srcDimension.height\n              }];\n            }\n\n            return [2\n            /*return*/\n            , {\n              dist: distBlob,\n              width: scaleCanvas.width,\n              height: scaleCanvas.height\n            }];\n        }\n      });\n    });\n  };\n\n  Compress.prototype.clear = function (ctx, width, height) {\n    // jpeg 没有 alpha 通道，透明区间会被填充成黑色，这里把透明区间填充为白色\n    if (this.outputType === defaultType) {\n      ctx.fillStyle = '#fff';\n      ctx.fillRect(0, 0, width, height);\n    } else {\n      ctx.clearRect(0, 0, width, height);\n    }\n  };\n  /** 通过 file 初始化 image 对象 */\n\n\n  Compress.prototype.getOriginImage = function () {\n    var _this = this;\n\n    return new _promise[\"default\"](function (resolve, reject) {\n      var url = (0, _utils.createObjectURL)(_this.file);\n      var img = new Image();\n\n      img.onload = function () {\n        resolve(img);\n      };\n\n      img.onerror = function () {\n        reject('image load error');\n      };\n\n      img.src = url;\n    });\n  };\n\n  Compress.prototype.getCanvas = function (img) {\n    var _this = this;\n\n    return new _promise[\"default\"](function (resolve, reject) {\n      // 通过得到图片的信息来调整显示方向以正确显示图片，主要解决 ios 系统上的图片会有旋转的问题\n      _exifJs.EXIF.getData(img, function () {\n        var orientation = _exifJs.EXIF.getTag(img, 'Orientation') || 1;\n\n        var _a = (0, _utils.getTransform)(img, orientation),\n            width = _a.width,\n            height = _a.height,\n            matrix = _a.matrix;\n\n        var canvas = document.createElement('canvas');\n        var context = canvas.getContext('2d');\n        canvas.width = width;\n        canvas.height = height;\n\n        if (!context) {\n          reject(new Error('context is null'));\n          return;\n        }\n\n        _this.clear(context, width, height);\n\n        context.transform.apply(context, __spread(matrix));\n        context.drawImage(img, 0, 0);\n        resolve(canvas);\n      });\n    });\n  };\n\n  Compress.prototype.doScale = function (source, scale) {\n    return __awaiter(this, void 0, void 0, function () {\n      var sctx, steps, factor, mirror, mctx, width, height, originWidth, originHeight, src, context, i, dw, dh, canvas, data;\n      return __generator(this, function (_a) {\n        if (scale === 1) {\n          return [2\n          /*return*/\n          , source];\n        }\n\n        sctx = source.getContext('2d');\n        steps = Math.min(maxSteps, Math.ceil(1 / scale / scaleFactor));\n        factor = Math.pow(scale, 1 / steps);\n        mirror = document.createElement('canvas');\n        mctx = mirror.getContext('2d');\n        width = source.width, height = source.height;\n        originWidth = width;\n        originHeight = height;\n        mirror.width = width;\n        mirror.height = height;\n\n        if (!mctx || !sctx) {\n          throw new Error(\"mctx or sctx can't be null\");\n        }\n\n        for (i = 0; i < steps; i++) {\n          dw = width * factor | 0 // eslint-disable-line no-bitwise\n          ;\n          dh = height * factor | 0 // eslint-disable-line no-bitwise\n          ; // 到最后一步的时候 dw, dh 用目标缩放尺寸，否则会出现最后尺寸偏小的情况\n\n          if (i === steps - 1) {\n            dw = originWidth * scale;\n            dh = originHeight * scale;\n          }\n\n          if (i % 2 === 0) {\n            src = source;\n            context = mctx;\n          } else {\n            src = mirror;\n            context = sctx;\n          } // 每次画前都清空，避免图像重叠\n\n\n          this.clear(context, width, height);\n          context.drawImage(src, 0, 0, width, height, 0, 0, dw, dh);\n          width = dw;\n          height = dh;\n        }\n\n        canvas = src === source ? mirror : source;\n        data = context.getImageData(0, 0, width, height); // resize\n\n        canvas.width = width;\n        canvas.height = height; // store image data\n\n        context.putImageData(data, 0, 0);\n        return [2\n        /*return*/\n        , canvas];\n      });\n    });\n  };\n  /** 这里把 base64 字符串转为 blob 对象 */\n\n\n  Compress.prototype.toBlob = function (result) {\n    var dataURL = result.toDataURL(this.outputType, this.config.quality);\n    var buffer = atob(dataURL.split(',')[1]).split('').map(function (_char) {\n      return _char.charCodeAt(0);\n    });\n    var blob = new Blob([new Uint8Array(buffer)], {\n      type: this.outputType\n    });\n    return blob;\n  };\n\n  return Compress;\n}();\n\nvar compressImage = function compressImage(file, options) {\n  return new Compress(file, options).process();\n};\n\nvar _default = compressImage;\nexports[\"default\"] = _default;","(function() {\n\n    var debug = false;\n\n    var root = this;\n\n    var EXIF = function(obj) {\n        if (obj instanceof EXIF) return obj;\n        if (!(this instanceof EXIF)) return new EXIF(obj);\n        this.EXIFwrapped = obj;\n    };\n\n    if (typeof exports !== 'undefined') {\n        if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = EXIF;\n        }\n        exports.EXIF = EXIF;\n    } else {\n        root.EXIF = EXIF;\n    }\n\n    var ExifTags = EXIF.Tags = {\n\n        // version tags\n        0x9000 : \"ExifVersion\",             // EXIF version\n        0xA000 : \"FlashpixVersion\",         // Flashpix format version\n\n        // colorspace tags\n        0xA001 : \"ColorSpace\",              // Color space information tag\n\n        // image configuration\n        0xA002 : \"PixelXDimension\",         // Valid width of meaningful image\n        0xA003 : \"PixelYDimension\",         // Valid height of meaningful image\n        0x9101 : \"ComponentsConfiguration\", // Information about channels\n        0x9102 : \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\n        // user information\n        0x927C : \"MakerNote\",               // Any desired information written by the manufacturer\n        0x9286 : \"UserComment\",             // Comments by user\n\n        // related file\n        0xA004 : \"RelatedSoundFile\",        // Name of related sound file\n\n        // date and time\n        0x9003 : \"DateTimeOriginal\",        // Date and time when the original image was generated\n        0x9004 : \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n        0x9290 : \"SubsecTime\",              // Fractions of seconds for DateTime\n        0x9291 : \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n        0x9292 : \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\n        // picture-taking conditions\n        0x829A : \"ExposureTime\",            // Exposure time (in seconds)\n        0x829D : \"FNumber\",                 // F number\n        0x8822 : \"ExposureProgram\",         // Exposure program\n        0x8824 : \"SpectralSensitivity\",     // Spectral sensitivity\n        0x8827 : \"ISOSpeedRatings\",         // ISO speed rating\n        0x8828 : \"OECF\",                    // Optoelectric conversion factor\n        0x9201 : \"ShutterSpeedValue\",       // Shutter speed\n        0x9202 : \"ApertureValue\",           // Lens aperture\n        0x9203 : \"BrightnessValue\",         // Value of brightness\n        0x9204 : \"ExposureBias\",            // Exposure bias\n        0x9205 : \"MaxApertureValue\",        // Smallest F number of lens\n        0x9206 : \"SubjectDistance\",         // Distance to subject in meters\n        0x9207 : \"MeteringMode\",            // Metering mode\n        0x9208 : \"LightSource\",             // Kind of light source\n        0x9209 : \"Flash\",                   // Flash status\n        0x9214 : \"SubjectArea\",             // Location and area of main subject\n        0x920A : \"FocalLength\",             // Focal length of the lens in mm\n        0xA20B : \"FlashEnergy\",             // Strobe energy in BCPS\n        0xA20C : \"SpatialFrequencyResponse\",    //\n        0xA20E : \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n        0xA20F : \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n        0xA210 : \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n        0xA214 : \"SubjectLocation\",         // Location of subject in image\n        0xA215 : \"ExposureIndex\",           // Exposure index selected on camera\n        0xA217 : \"SensingMethod\",           // Image sensor type\n        0xA300 : \"FileSource\",              // Image source (3 == DSC)\n        0xA301 : \"SceneType\",               // Scene type (1 == directly photographed)\n        0xA302 : \"CFAPattern\",              // Color filter array geometric pattern\n        0xA401 : \"CustomRendered\",          // Special processing\n        0xA402 : \"ExposureMode\",            // Exposure mode\n        0xA403 : \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n        0xA404 : \"DigitalZoomRation\",       // Digital zoom ratio\n        0xA405 : \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n        0xA406 : \"SceneCaptureType\",        // Type of scene\n        0xA407 : \"GainControl\",             // Degree of overall image gain adjustment\n        0xA408 : \"Contrast\",                // Direction of contrast processing applied by camera\n        0xA409 : \"Saturation\",              // Direction of saturation processing applied by camera\n        0xA40A : \"Sharpness\",               // Direction of sharpness processing applied by camera\n        0xA40B : \"DeviceSettingDescription\",    //\n        0xA40C : \"SubjectDistanceRange\",    // Distance to subject\n\n        // other tags\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0xA420 : \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n    };\n\n    var TiffTags = EXIF.TiffTags = {\n        0x0100 : \"ImageWidth\",\n        0x0101 : \"ImageHeight\",\n        0x8769 : \"ExifIFDPointer\",\n        0x8825 : \"GPSInfoIFDPointer\",\n        0xA005 : \"InteroperabilityIFDPointer\",\n        0x0102 : \"BitsPerSample\",\n        0x0103 : \"Compression\",\n        0x0106 : \"PhotometricInterpretation\",\n        0x0112 : \"Orientation\",\n        0x0115 : \"SamplesPerPixel\",\n        0x011C : \"PlanarConfiguration\",\n        0x0212 : \"YCbCrSubSampling\",\n        0x0213 : \"YCbCrPositioning\",\n        0x011A : \"XResolution\",\n        0x011B : \"YResolution\",\n        0x0128 : \"ResolutionUnit\",\n        0x0111 : \"StripOffsets\",\n        0x0116 : \"RowsPerStrip\",\n        0x0117 : \"StripByteCounts\",\n        0x0201 : \"JPEGInterchangeFormat\",\n        0x0202 : \"JPEGInterchangeFormatLength\",\n        0x012D : \"TransferFunction\",\n        0x013E : \"WhitePoint\",\n        0x013F : \"PrimaryChromaticities\",\n        0x0211 : \"YCbCrCoefficients\",\n        0x0214 : \"ReferenceBlackWhite\",\n        0x0132 : \"DateTime\",\n        0x010E : \"ImageDescription\",\n        0x010F : \"Make\",\n        0x0110 : \"Model\",\n        0x0131 : \"Software\",\n        0x013B : \"Artist\",\n        0x8298 : \"Copyright\"\n    };\n\n    var GPSTags = EXIF.GPSTags = {\n        0x0000 : \"GPSVersionID\",\n        0x0001 : \"GPSLatitudeRef\",\n        0x0002 : \"GPSLatitude\",\n        0x0003 : \"GPSLongitudeRef\",\n        0x0004 : \"GPSLongitude\",\n        0x0005 : \"GPSAltitudeRef\",\n        0x0006 : \"GPSAltitude\",\n        0x0007 : \"GPSTimeStamp\",\n        0x0008 : \"GPSSatellites\",\n        0x0009 : \"GPSStatus\",\n        0x000A : \"GPSMeasureMode\",\n        0x000B : \"GPSDOP\",\n        0x000C : \"GPSSpeedRef\",\n        0x000D : \"GPSSpeed\",\n        0x000E : \"GPSTrackRef\",\n        0x000F : \"GPSTrack\",\n        0x0010 : \"GPSImgDirectionRef\",\n        0x0011 : \"GPSImgDirection\",\n        0x0012 : \"GPSMapDatum\",\n        0x0013 : \"GPSDestLatitudeRef\",\n        0x0014 : \"GPSDestLatitude\",\n        0x0015 : \"GPSDestLongitudeRef\",\n        0x0016 : \"GPSDestLongitude\",\n        0x0017 : \"GPSDestBearingRef\",\n        0x0018 : \"GPSDestBearing\",\n        0x0019 : \"GPSDestDistanceRef\",\n        0x001A : \"GPSDestDistance\",\n        0x001B : \"GPSProcessingMethod\",\n        0x001C : \"GPSAreaInformation\",\n        0x001D : \"GPSDateStamp\",\n        0x001E : \"GPSDifferential\"\n    };\n\n     // EXIF 2.3 Spec\n    var IFD1Tags = EXIF.IFD1Tags = {\n        0x0100: \"ImageWidth\",\n        0x0101: \"ImageHeight\",\n        0x0102: \"BitsPerSample\",\n        0x0103: \"Compression\",\n        0x0106: \"PhotometricInterpretation\",\n        0x0111: \"StripOffsets\",\n        0x0112: \"Orientation\",\n        0x0115: \"SamplesPerPixel\",\n        0x0116: \"RowsPerStrip\",\n        0x0117: \"StripByteCounts\",\n        0x011A: \"XResolution\",\n        0x011B: \"YResolution\",\n        0x011C: \"PlanarConfiguration\",\n        0x0128: \"ResolutionUnit\",\n        0x0201: \"JpegIFOffset\",    // When image format is JPEG, this value show offset to JPEG data stored.(aka \"ThumbnailOffset\" or \"JPEGInterchangeFormat\")\n        0x0202: \"JpegIFByteCount\", // When image format is JPEG, this value shows data size of JPEG image (aka \"ThumbnailLength\" or \"JPEGInterchangeFormatLength\")\n        0x0211: \"YCbCrCoefficients\",\n        0x0212: \"YCbCrSubSampling\",\n        0x0213: \"YCbCrPositioning\",\n        0x0214: \"ReferenceBlackWhite\"\n    };\n\n    var StringValues = EXIF.StringValues = {\n        ExposureProgram : {\n            0 : \"Not defined\",\n            1 : \"Manual\",\n            2 : \"Normal program\",\n            3 : \"Aperture priority\",\n            4 : \"Shutter priority\",\n            5 : \"Creative program\",\n            6 : \"Action program\",\n            7 : \"Portrait mode\",\n            8 : \"Landscape mode\"\n        },\n        MeteringMode : {\n            0 : \"Unknown\",\n            1 : \"Average\",\n            2 : \"CenterWeightedAverage\",\n            3 : \"Spot\",\n            4 : \"MultiSpot\",\n            5 : \"Pattern\",\n            6 : \"Partial\",\n            255 : \"Other\"\n        },\n        LightSource : {\n            0 : \"Unknown\",\n            1 : \"Daylight\",\n            2 : \"Fluorescent\",\n            3 : \"Tungsten (incandescent light)\",\n            4 : \"Flash\",\n            9 : \"Fine weather\",\n            10 : \"Cloudy weather\",\n            11 : \"Shade\",\n            12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n            13 : \"Day white fluorescent (N 4600 - 5400K)\",\n            14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n            15 : \"White fluorescent (WW 3200 - 3700K)\",\n            17 : \"Standard light A\",\n            18 : \"Standard light B\",\n            19 : \"Standard light C\",\n            20 : \"D55\",\n            21 : \"D65\",\n            22 : \"D75\",\n            23 : \"D50\",\n            24 : \"ISO studio tungsten\",\n            255 : \"Other\"\n        },\n        Flash : {\n            0x0000 : \"Flash did not fire\",\n            0x0001 : \"Flash fired\",\n            0x0005 : \"Strobe return light not detected\",\n            0x0007 : \"Strobe return light detected\",\n            0x0009 : \"Flash fired, compulsory flash mode\",\n            0x000D : \"Flash fired, compulsory flash mode, return light not detected\",\n            0x000F : \"Flash fired, compulsory flash mode, return light detected\",\n            0x0010 : \"Flash did not fire, compulsory flash mode\",\n            0x0018 : \"Flash did not fire, auto mode\",\n            0x0019 : \"Flash fired, auto mode\",\n            0x001D : \"Flash fired, auto mode, return light not detected\",\n            0x001F : \"Flash fired, auto mode, return light detected\",\n            0x0020 : \"No flash function\",\n            0x0041 : \"Flash fired, red-eye reduction mode\",\n            0x0045 : \"Flash fired, red-eye reduction mode, return light not detected\",\n            0x0047 : \"Flash fired, red-eye reduction mode, return light detected\",\n            0x0049 : \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n            0x004D : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n            0x004F : \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n            0x0059 : \"Flash fired, auto mode, red-eye reduction mode\",\n            0x005D : \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n            0x005F : \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n        },\n        SensingMethod : {\n            1 : \"Not defined\",\n            2 : \"One-chip color area sensor\",\n            3 : \"Two-chip color area sensor\",\n            4 : \"Three-chip color area sensor\",\n            5 : \"Color sequential area sensor\",\n            7 : \"Trilinear sensor\",\n            8 : \"Color sequential linear sensor\"\n        },\n        SceneCaptureType : {\n            0 : \"Standard\",\n            1 : \"Landscape\",\n            2 : \"Portrait\",\n            3 : \"Night scene\"\n        },\n        SceneType : {\n            1 : \"Directly photographed\"\n        },\n        CustomRendered : {\n            0 : \"Normal process\",\n            1 : \"Custom process\"\n        },\n        WhiteBalance : {\n            0 : \"Auto white balance\",\n            1 : \"Manual white balance\"\n        },\n        GainControl : {\n            0 : \"None\",\n            1 : \"Low gain up\",\n            2 : \"High gain up\",\n            3 : \"Low gain down\",\n            4 : \"High gain down\"\n        },\n        Contrast : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        Saturation : {\n            0 : \"Normal\",\n            1 : \"Low saturation\",\n            2 : \"High saturation\"\n        },\n        Sharpness : {\n            0 : \"Normal\",\n            1 : \"Soft\",\n            2 : \"Hard\"\n        },\n        SubjectDistanceRange : {\n            0 : \"Unknown\",\n            1 : \"Macro\",\n            2 : \"Close view\",\n            3 : \"Distant view\"\n        },\n        FileSource : {\n            3 : \"DSC\"\n        },\n\n        Components : {\n            0 : \"\",\n            1 : \"Y\",\n            2 : \"Cb\",\n            3 : \"Cr\",\n            4 : \"R\",\n            5 : \"G\",\n            6 : \"B\"\n        }\n    };\n\n    function addEvent(element, event, handler) {\n        if (element.addEventListener) {\n            element.addEventListener(event, handler, false);\n        } else if (element.attachEvent) {\n            element.attachEvent(\"on\" + event, handler);\n        }\n    }\n\n    function imageHasData(img) {\n        return !!(img.exifdata);\n    }\n\n\n    function base64ToArrayBuffer(base64, contentType) {\n        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n        base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n        var binary = atob(base64);\n        var len = binary.length;\n        var buffer = new ArrayBuffer(len);\n        var view = new Uint8Array(buffer);\n        for (var i = 0; i < len; i++) {\n            view[i] = binary.charCodeAt(i);\n        }\n        return buffer;\n    }\n\n    function objectURLToBlob(url, callback) {\n        var http = new XMLHttpRequest();\n        http.open(\"GET\", url, true);\n        http.responseType = \"blob\";\n        http.onload = function(e) {\n            if (this.status == 200 || this.status === 0) {\n                callback(this.response);\n            }\n        };\n        http.send();\n    }\n\n    function getImageData(img, callback) {\n        function handleBinaryFile(binFile) {\n            var data = findEXIFinJPEG(binFile);\n            img.exifdata = data || {};\n            var iptcdata = findIPTCinJPEG(binFile);\n            img.iptcdata = iptcdata || {};\n            if (EXIF.isXmpEnabled) {\n               var xmpdata= findXMPinJPEG(binFile);\n               img.xmpdata = xmpdata || {};               \n            }\n            if (callback) {\n                callback.call(img);\n            }\n        }\n\n        if (img.src) {\n            if (/^data\\:/i.test(img.src)) { // Data URI\n                var arrayBuffer = base64ToArrayBuffer(img.src);\n                handleBinaryFile(arrayBuffer);\n\n            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n                var fileReader = new FileReader();\n                fileReader.onload = function(e) {\n                    handleBinaryFile(e.target.result);\n                };\n                objectURLToBlob(img.src, function (blob) {\n                    fileReader.readAsArrayBuffer(blob);\n                });\n            } else {\n                var http = new XMLHttpRequest();\n                http.onload = function() {\n                    if (this.status == 200 || this.status === 0) {\n                        handleBinaryFile(http.response);\n                    } else {\n                        throw \"Could not load image\";\n                    }\n                    http = null;\n                };\n                http.open(\"GET\", img.src, true);\n                http.responseType = \"arraybuffer\";\n                http.send(null);\n            }\n        } else if (self.FileReader && (img instanceof self.Blob || img instanceof self.File)) {\n            var fileReader = new FileReader();\n            fileReader.onload = function(e) {\n                if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n                handleBinaryFile(e.target.result);\n            };\n\n            fileReader.readAsArrayBuffer(img);\n        }\n    }\n\n    function findEXIFinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            marker;\n\n        while (offset < length) {\n            if (dataView.getUint8(offset) != 0xFF) {\n                if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n                return false; // not a valid marker, something is wrong\n            }\n\n            marker = dataView.getUint8(offset + 1);\n            if (debug) console.log(marker);\n\n            // we could implement handling for other markers here,\n            // but we're only looking for 0xFFE1 for EXIF data\n\n            if (marker == 225) {\n                if (debug) console.log(\"Found 0xFFE1 marker\");\n\n                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n                // offset += 2 + file.getShortAt(offset+2, true);\n\n            } else {\n                offset += 2 + dataView.getUint16(offset+2);\n            }\n\n        }\n\n    }\n\n    function findIPTCinJPEG(file) {\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength;\n\n\n        var isFieldSegmentStart = function(dataView, offset){\n            return (\n                dataView.getUint8(offset) === 0x38 &&\n                dataView.getUint8(offset+1) === 0x42 &&\n                dataView.getUint8(offset+2) === 0x49 &&\n                dataView.getUint8(offset+3) === 0x4D &&\n                dataView.getUint8(offset+4) === 0x04 &&\n                dataView.getUint8(offset+5) === 0x04\n            );\n        };\n\n        while (offset < length) {\n\n            if ( isFieldSegmentStart(dataView, offset )){\n\n                // Get the length of the name header (which is padded to an even number of bytes)\n                var nameHeaderLength = dataView.getUint8(offset+7);\n                if(nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n                // Check for pre photoshop 6 format\n                if(nameHeaderLength === 0) {\n                    // Always 4\n                    nameHeaderLength = 4;\n                }\n\n                var startOffset = offset + 8 + nameHeaderLength;\n                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n                return readIPTCData(file, startOffset, sectionLength);\n\n                break;\n\n            }\n\n\n            // Not the marker, continue searching\n            offset++;\n\n        }\n\n    }\n    var IptcFieldMap = {\n        0x78 : 'caption',\n        0x6E : 'credit',\n        0x19 : 'keywords',\n        0x37 : 'dateCreated',\n        0x50 : 'byline',\n        0x55 : 'bylineTitle',\n        0x7A : 'captionWriter',\n        0x69 : 'headline',\n        0x74 : 'copyright',\n        0x0F : 'category'\n    };\n    function readIPTCData(file, startOffset, sectionLength){\n        var dataView = new DataView(file);\n        var data = {};\n        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n        var segmentStartPos = startOffset;\n        while(segmentStartPos < startOffset+sectionLength) {\n            if(dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos+1) === 0x02){\n                segmentType = dataView.getUint8(segmentStartPos+2);\n                if(segmentType in IptcFieldMap) {\n                    dataSize = dataView.getInt16(segmentStartPos+3);\n                    segmentSize = dataSize + 5;\n                    fieldName = IptcFieldMap[segmentType];\n                    fieldValue = getStringFromDB(dataView, segmentStartPos+5, dataSize);\n                    // Check if we already stored a value with this name\n                    if(data.hasOwnProperty(fieldName)) {\n                        // Value already stored with this name, create multivalue field\n                        if(data[fieldName] instanceof Array) {\n                            data[fieldName].push(fieldValue);\n                        }\n                        else {\n                            data[fieldName] = [data[fieldName], fieldValue];\n                        }\n                    }\n                    else {\n                        data[fieldName] = fieldValue;\n                    }\n                }\n\n            }\n            segmentStartPos++;\n        }\n        return data;\n    }\n\n\n\n    function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n        var entries = file.getUint16(dirStart, !bigEnd),\n            tags = {},\n            entryOffset, tag,\n            i;\n\n        for (i=0;i<entries;i++) {\n            entryOffset = dirStart + i*12 + 2;\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n        }\n        return tags;\n    }\n\n\n    function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n        var type = file.getUint16(entryOffset+2, !bigEnd),\n            numValues = file.getUint32(entryOffset+4, !bigEnd),\n            valueOffset = file.getUint32(entryOffset+8, !bigEnd) + tiffStart,\n            offset,\n            vals, val, n,\n            numerator, denominator;\n\n        switch (type) {\n            case 1: // byte, 8-bit unsigned int\n            case 7: // undefined, 8-bit byte, value depending on field\n                if (numValues == 1) {\n                    return file.getUint8(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint8(offset + n);\n                    }\n                    return vals;\n                }\n\n            case 2: // ascii, 8-bit byte\n                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n                return getStringFromDB(file, offset, numValues-1);\n\n            case 3: // short, 16 bit int\n                if (numValues == 1) {\n                    return file.getUint16(entryOffset + 8, !bigEnd);\n                } else {\n                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint16(offset + 2*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 4: // long, 32 bit int\n                if (numValues == 1) {\n                    return file.getUint32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getUint32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 5:    // rational = two long values, first is numerator, second is denominator\n                if (numValues == 1) {\n                    numerator = file.getUint32(valueOffset, !bigEnd);\n                    denominator = file.getUint32(valueOffset+4, !bigEnd);\n                    val = new Number(numerator / denominator);\n                    val.numerator = numerator;\n                    val.denominator = denominator;\n                    return val;\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        numerator = file.getUint32(valueOffset + 8*n, !bigEnd);\n                        denominator = file.getUint32(valueOffset+4 + 8*n, !bigEnd);\n                        vals[n] = new Number(numerator / denominator);\n                        vals[n].numerator = numerator;\n                        vals[n].denominator = denominator;\n                    }\n                    return vals;\n                }\n\n            case 9: // slong, 32 bit signed int\n                if (numValues == 1) {\n                    return file.getInt32(entryOffset + 8, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 4*n, !bigEnd);\n                    }\n                    return vals;\n                }\n\n            case 10: // signed rational, two slongs, first is numerator, second is denominator\n                if (numValues == 1) {\n                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset+4, !bigEnd);\n                } else {\n                    vals = [];\n                    for (n=0;n<numValues;n++) {\n                        vals[n] = file.getInt32(valueOffset + 8*n, !bigEnd) / file.getInt32(valueOffset+4 + 8*n, !bigEnd);\n                    }\n                    return vals;\n                }\n        }\n    }\n\n    /**\n    * Given an IFD (Image File Directory) start offset\n    * returns an offset to next IFD or 0 if it's the last IFD.\n    */\n    function getNextIFDOffset(dataView, dirStart, bigEnd){\n        //the first 2bytes means the number of directory entries contains in this IFD\n        var entries = dataView.getUint16(dirStart, !bigEnd);\n\n        // After last directory entry, there is a 4bytes of data,\n        // it means an offset to next IFD.\n        // If its value is '0x00000000', it means this is the last IFD and there is no linked IFD.\n\n        return dataView.getUint32(dirStart + 2 + entries * 12, !bigEnd); // each entry is 12 bytes long\n    }\n\n    function readThumbnailImage(dataView, tiffStart, firstIFDOffset, bigEnd){\n        // get the IFD1 offset\n        var IFD1OffsetPointer = getNextIFDOffset(dataView, tiffStart+firstIFDOffset, bigEnd);\n\n        if (!IFD1OffsetPointer) {\n            // console.log('******** IFD1Offset is empty, image thumb not found ********');\n            return {};\n        }\n        else if (IFD1OffsetPointer > dataView.byteLength) { // this should not happen\n            // console.log('******** IFD1Offset is outside the bounds of the DataView ********');\n            return {};\n        }\n        // console.log('*******  thumbnail IFD offset (IFD1) is: %s', IFD1OffsetPointer);\n\n        var thumbTags = readTags(dataView, tiffStart, tiffStart + IFD1OffsetPointer, IFD1Tags, bigEnd)\n\n        // EXIF 2.3 specification for JPEG format thumbnail\n\n        // If the value of Compression(0x0103) Tag in IFD1 is '6', thumbnail image format is JPEG.\n        // Most of Exif image uses JPEG format for thumbnail. In that case, you can get offset of thumbnail\n        // by JpegIFOffset(0x0201) Tag in IFD1, size of thumbnail by JpegIFByteCount(0x0202) Tag.\n        // Data format is ordinary JPEG format, starts from 0xFFD8 and ends by 0xFFD9. It seems that\n        // JPEG format and 160x120pixels of size are recommended thumbnail format for Exif2.1 or later.\n\n        if (thumbTags['Compression']) {\n            // console.log('Thumbnail image found!');\n\n            switch (thumbTags['Compression']) {\n                case 6:\n                    // console.log('Thumbnail image format is JPEG');\n                    if (thumbTags.JpegIFOffset && thumbTags.JpegIFByteCount) {\n                    // extract the thumbnail\n                        var tOffset = tiffStart + thumbTags.JpegIFOffset;\n                        var tLength = thumbTags.JpegIFByteCount;\n                        thumbTags['blob'] = new Blob([new Uint8Array(dataView.buffer, tOffset, tLength)], {\n                            type: 'image/jpeg'\n                        });\n                    }\n                break;\n\n            case 1:\n                console.log(\"Thumbnail image format is TIFF, which is not implemented.\");\n                break;\n            default:\n                console.log(\"Unknown thumbnail image format '%s'\", thumbTags['Compression']);\n            }\n        }\n        else if (thumbTags['PhotometricInterpretation'] == 2) {\n            console.log(\"Thumbnail image format is RGB, which is not implemented.\");\n        }\n        return thumbTags;\n    }\n\n    function getStringFromDB(buffer, start, length) {\n        var outstr = \"\";\n        for (n = start; n < start+length; n++) {\n            outstr += String.fromCharCode(buffer.getUint8(n));\n        }\n        return outstr;\n    }\n\n    function readEXIFData(file, start) {\n        if (getStringFromDB(file, start, 4) != \"Exif\") {\n            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n            return false;\n        }\n\n        var bigEnd,\n            tags, tag,\n            exifData, gpsData,\n            tiffOffset = start + 6;\n\n        // test for TIFF validity and endianness\n        if (file.getUint16(tiffOffset) == 0x4949) {\n            bigEnd = false;\n        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n            bigEnd = true;\n        } else {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n            return false;\n        }\n\n        if (file.getUint16(tiffOffset+2, !bigEnd) != 0x002A) {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n            return false;\n        }\n\n        var firstIFDOffset = file.getUint32(tiffOffset+4, !bigEnd);\n\n        if (firstIFDOffset < 0x00000008) {\n            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset+4, !bigEnd));\n            return false;\n        }\n\n        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n        if (tags.ExifIFDPointer) {\n            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n            for (tag in exifData) {\n                switch (tag) {\n                    case \"LightSource\" :\n                    case \"Flash\" :\n                    case \"MeteringMode\" :\n                    case \"ExposureProgram\" :\n                    case \"SensingMethod\" :\n                    case \"SceneCaptureType\" :\n                    case \"SceneType\" :\n                    case \"CustomRendered\" :\n                    case \"WhiteBalance\" :\n                    case \"GainControl\" :\n                    case \"Contrast\" :\n                    case \"Saturation\" :\n                    case \"Sharpness\" :\n                    case \"SubjectDistanceRange\" :\n                    case \"FileSource\" :\n                        exifData[tag] = StringValues[tag][exifData[tag]];\n                        break;\n\n                    case \"ExifVersion\" :\n                    case \"FlashpixVersion\" :\n                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                        break;\n\n                    case \"ComponentsConfiguration\" :\n                        exifData[tag] =\n                            StringValues.Components[exifData[tag][0]] +\n                            StringValues.Components[exifData[tag][1]] +\n                            StringValues.Components[exifData[tag][2]] +\n                            StringValues.Components[exifData[tag][3]];\n                        break;\n                }\n                tags[tag] = exifData[tag];\n            }\n        }\n\n        if (tags.GPSInfoIFDPointer) {\n            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n            for (tag in gpsData) {\n                switch (tag) {\n                    case \"GPSVersionID\" :\n                        gpsData[tag] = gpsData[tag][0] +\n                            \".\" + gpsData[tag][1] +\n                            \".\" + gpsData[tag][2] +\n                            \".\" + gpsData[tag][3];\n                        break;\n                }\n                tags[tag] = gpsData[tag];\n            }\n        }\n\n        // extract thumbnail\n        tags['thumbnail'] = readThumbnailImage(file, tiffOffset, firstIFDOffset, bigEnd);\n\n        return tags;\n    }\n\n   function findXMPinJPEG(file) {\n\n        if (!('DOMParser' in self)) {\n            // console.warn('XML parsing not supported without DOMParser');\n            return;\n        }\n        var dataView = new DataView(file);\n\n        if (debug) console.log(\"Got file of length \" + file.byteLength);\n        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n           if (debug) console.log(\"Not a valid JPEG\");\n           return false; // not a valid jpeg\n        }\n\n        var offset = 2,\n            length = file.byteLength,\n            dom = new DOMParser();\n\n        while (offset < (length-4)) {\n            if (getStringFromDB(dataView, offset, 4) == \"http\") {\n                var startOffset = offset - 1;\n                var sectionLength = dataView.getUint16(offset - 2) - 1;\n                var xmpString = getStringFromDB(dataView, startOffset, sectionLength)\n                var xmpEndIndex = xmpString.indexOf('xmpmeta>') + 8;\n                xmpString = xmpString.substring( xmpString.indexOf( '<x:xmpmeta' ), xmpEndIndex );\n\n                var indexOfXmp = xmpString.indexOf('x:xmpmeta') + 10\n                //Many custom written programs embed xmp/xml without any namespace. Following are some of them.\n                //Without these namespaces, XML is thought to be invalid by parsers\n                xmpString = xmpString.slice(0, indexOfXmp)\n                            + 'xmlns:Iptc4xmpCore=\"http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/\" '\n                            + 'xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" '\n                            + 'xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" '\n                            + 'xmlns:plus=\"http://schemas.android.com/apk/lib/com.google.android.gms.plus\" '\n                            + 'xmlns:ext=\"http://www.gettyimages.com/xsltExtension/1.0\" '\n                            + 'xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" '\n                            + 'xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" '\n                            + 'xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\" '\n                            + 'xmlns:crs=\"http://ns.adobe.com/camera-raw-settings/1.0/\" '\n                            + 'xmlns:xapGImg=\"http://ns.adobe.com/xap/1.0/g/img/\" '\n                            + 'xmlns:Iptc4xmpExt=\"http://iptc.org/std/Iptc4xmpExt/2008-02-29/\" '\n                            + xmpString.slice(indexOfXmp)\n\n                var domDocument = dom.parseFromString( xmpString, 'text/xml' );\n                return xml2Object(domDocument);\n            } else{\n             offset++;\n            }\n        }\n    }\n\n    function xml2json(xml) {\n        var json = {};\n      \n        if (xml.nodeType == 1) { // element node\n          if (xml.attributes.length > 0) {\n            json['@attributes'] = {};\n            for (var j = 0; j < xml.attributes.length; j++) {\n              var attribute = xml.attributes.item(j);\n              json['@attributes'][attribute.nodeName] = attribute.nodeValue;\n            }\n          }\n        } else if (xml.nodeType == 3) { // text node\n          return xml.nodeValue;\n        }\n      \n        // deal with children\n        if (xml.hasChildNodes()) {\n          for(var i = 0; i < xml.childNodes.length; i++) {\n            var child = xml.childNodes.item(i);\n            var nodeName = child.nodeName;\n            if (json[nodeName] == null) {\n              json[nodeName] = xml2json(child);\n            } else {\n              if (json[nodeName].push == null) {\n                var old = json[nodeName];\n                json[nodeName] = [];\n                json[nodeName].push(old);\n              }\n              json[nodeName].push(xml2json(child));\n            }\n          }\n        }\n        \n        return json;\n    }\n\n    function xml2Object(xml) {\n        try {\n            var obj = {};\n            if (xml.children.length > 0) {\n              for (var i = 0; i < xml.children.length; i++) {\n                var item = xml.children.item(i);\n                var attributes = item.attributes;\n                for(var idx in attributes) {\n                    var itemAtt = attributes[idx];\n                    var dataKey = itemAtt.nodeName;\n                    var dataValue = itemAtt.nodeValue;\n\n                    if(dataKey !== undefined) {\n                        obj[dataKey] = dataValue;\n                    }\n                }\n                var nodeName = item.nodeName;\n\n                if (typeof (obj[nodeName]) == \"undefined\") {\n                  obj[nodeName] = xml2json(item);\n                } else {\n                  if (typeof (obj[nodeName].push) == \"undefined\") {\n                    var old = obj[nodeName];\n\n                    obj[nodeName] = [];\n                    obj[nodeName].push(old);\n                  }\n                  obj[nodeName].push(xml2json(item));\n                }\n              }\n            } else {\n              obj = xml.textContent;\n            }\n            return obj;\n          } catch (e) {\n              console.log(e.message);\n          }\n    }\n\n    EXIF.enableXmp = function() {\n        EXIF.isXmpEnabled = true;\n    }\n\n    EXIF.disableXmp = function() {\n        EXIF.isXmpEnabled = false;\n    }\n\n    EXIF.getData = function(img, callback) {\n        if (((self.Image && img instanceof self.Image)\n            || (self.HTMLImageElement && img instanceof self.HTMLImageElement))\n            && !img.complete)\n            return false;\n\n        if (!imageHasData(img)) {\n            getImageData(img, callback);\n        } else {\n            if (callback) {\n                callback.call(img);\n            }\n        }\n        return true;\n    }\n\n    EXIF.getTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.exifdata[tag];\n    }\n    \n    EXIF.getIptcTag = function(img, tag) {\n        if (!imageHasData(img)) return;\n        return img.iptcdata[tag];\n    }\n\n    EXIF.getAllTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.exifdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n    \n    EXIF.getAllIptcTags = function(img) {\n        if (!imageHasData(img)) return {};\n        var a,\n            data = img.iptcdata,\n            tags = {};\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                tags[a] = data[a];\n            }\n        }\n        return tags;\n    }\n\n    EXIF.pretty = function(img) {\n        if (!imageHasData(img)) return \"\";\n        var a,\n            data = img.exifdata,\n            strPretty = \"\";\n        for (a in data) {\n            if (data.hasOwnProperty(a)) {\n                if (typeof data[a] == \"object\") {\n                    if (data[a] instanceof Number) {\n                        strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n                    } else {\n                        strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n                    }\n                } else {\n                    strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n                }\n            }\n        }\n        return strPretty;\n    }\n\n    EXIF.readFromBinaryFile = function(file) {\n        return findEXIFinJPEG(file);\n    }\n\n    if (typeof define === 'function' && define.amd) {\n        define('exif-js', [], function() {\n            return EXIF;\n        });\n    }\n}.call(this));\n\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports[\"default\"] = void 0;\n\nvar _iterator = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol/iterator\"));\n\nvar _symbol = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/symbol\"));\n\nvar _reportV = require(\"./report-v3\");\n\nvar __read = void 0 && (void 0).__read || function (o, n) {\n  var m = typeof _symbol[\"default\"] === \"function\" && o[_iterator[\"default\"]];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = void 0 && (void 0).__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nvar Logger =\n/** @class */\nfunction () {\n  function Logger(token, disableReport, level) {\n    if (disableReport === void 0) {\n      disableReport = true;\n    }\n\n    if (level === void 0) {\n      level = 'OFF';\n    }\n\n    this.token = token;\n    this.disableReport = disableReport;\n    this.level = level; // 为每个类分配一个 id\n    // 用以区分不同的上传任务\n\n    this.id = ++Logger.id;\n  }\n  /**\n   * @param  {V3LogInfo} data 上报的数据。\n   * @param  {boolean} retry 重试次数，可选，默认为 3。\n   * @description 向服务端上报统计信息。\n   */\n\n\n  Logger.prototype.report = function (data, retry) {\n    if (this.disableReport) return;\n\n    try {\n      (0, _reportV.reportV3)(this.token, data, retry);\n    } catch (error) {\n      console.warn(error);\n    }\n  };\n  /**\n   * @param  {unknown[]} ...args\n   * @description 输出 info 级别的调试信息。\n   */\n\n\n  Logger.prototype.info = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var allowLevel = ['INFO'];\n\n    if (allowLevel.includes(this.level)) {\n      console.log.apply(console, __spread([\"Qiniu-JS-SDK [INFO][\" + this.id + \"]: \"], args));\n    }\n  };\n  /**\n   * @param  {unknown[]} ...args\n   * @description 输出 warn 级别的调试信息。\n   */\n\n\n  Logger.prototype.warn = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var allowLevel = ['INFO', 'WARN'];\n\n    if (allowLevel.includes(this.level)) {\n      console.warn.apply(console, __spread([\"Qiniu-JS-SDK [WARN][\" + this.id + \"]: \"], args));\n    }\n  };\n  /**\n   * @param  {unknown[]} ...args\n   * @description 输出 error 级别的调试信息。\n   */\n\n\n  Logger.prototype.error = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var allowLevel = ['INFO', 'WARN', 'ERROR'];\n\n    if (allowLevel.includes(this.level)) {\n      console.error.apply(console, __spread([\"Qiniu-JS-SDK [ERROR][\" + this.id + \"]: \"], args));\n    }\n  };\n\n  Logger.id = 0;\n  return Logger;\n}();\n\nvar _default = Logger;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.reportV3 = reportV3;\n\nvar _utils = require(\"../utils\");\n\n/**\n * @param  {string} token 上传使用的 token\n * @param  {V3LogInfo} data 上报的统计数据\n * @param  {number} retry 重试的次数，默认值 3\n * @description v3 版本的日志上传接口，参考文档 https://github.com/qbox/product/blob/master/kodo/uplog.md#%E7%89%88%E6%9C%AC-3。\n */\nfunction reportV3(token, data, retry) {\n  if (retry === void 0) {\n    retry = 3;\n  }\n\n  var xhr = (0, _utils.createXHR)();\n  xhr.open('POST', 'https://uplog.qbox.me/log/3');\n  xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n  xhr.setRequestHeader('Authorization', (0, _utils.getAuthHeaders)(token).Authorization);\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState === 4 && xhr.status !== 200 && retry > 0) {\n      reportV3(token, data, retry - 1);\n    }\n  }; // 顺序参考：https://github.com/qbox/product/blob/master/kodo/uplog.md#%E7%89%88%E6%9C%AC-3\n\n\n  var stringifyData = [data.code || '', data.reqId || '', data.host || '', data.remoteIp || '', data.port || '', data.duration || '', data.time || '', data.bytesSent || '', data.upType || '', data.size || ''].join(',');\n  xhr.send(stringifyData);\n}","\"use strict\";\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs2/core-js/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.imageView2 = imageView2;\nexports.imageMogr2 = imageMogr2;\nexports.watermark = watermark;\nexports.imageInfo = imageInfo;\nexports.exif = exif;\nexports.pipeline = pipeline;\n\nvar _utils = require(\"./utils\");\n\nvar _base = require(\"./base64\");\n\nfunction getImageUrl(key, domain) {\n  key = encodeURIComponent(key);\n\n  if (domain.slice(domain.length - 1) !== '/') {\n    domain += '/';\n  }\n\n  return domain + key;\n}\n\nfunction imageView2(op, key, domain) {\n  if (!/^\\d$/.test(String(op.mode))) {\n    throw 'mode should be number in imageView2';\n  }\n\n  var mode = op.mode,\n      w = op.w,\n      h = op.h,\n      q = op.q,\n      format = op.format;\n\n  if (!w && !h) {\n    throw 'param w and h is empty in imageView2';\n  }\n\n  var imageUrl = 'imageView2/' + encodeURIComponent(mode);\n  imageUrl += w ? '/w/' + encodeURIComponent(w) : '';\n  imageUrl += h ? '/h/' + encodeURIComponent(h) : '';\n  imageUrl += q ? '/q/' + encodeURIComponent(q) : '';\n  imageUrl += format ? '/format/' + encodeURIComponent(format) : '';\n\n  if (key && domain) {\n    imageUrl = getImageUrl(key, domain) + '?' + imageUrl;\n  }\n\n  return imageUrl;\n} // invoke the imageMogr2 api of Qiniu\n\n\nfunction imageMogr2(op, key, domain) {\n  var autoOrient = op['auto-orient'];\n  var thumbnail = op.thumbnail,\n      strip = op.strip,\n      gravity = op.gravity,\n      crop = op.crop,\n      quality = op.quality,\n      rotate = op.rotate,\n      format = op.format,\n      blur = op.blur;\n  var imageUrl = 'imageMogr2';\n  imageUrl += autoOrient ? '/auto-orient' : '';\n  imageUrl += thumbnail ? '/thumbnail/' + encodeURIComponent(thumbnail) : '';\n  imageUrl += strip ? '/strip' : '';\n  imageUrl += gravity ? '/gravity/' + encodeURIComponent(gravity) : '';\n  imageUrl += quality ? '/quality/' + encodeURIComponent(quality) : '';\n  imageUrl += crop ? '/crop/' + encodeURIComponent(crop) : '';\n  imageUrl += rotate ? '/rotate/' + encodeURIComponent(rotate) : '';\n  imageUrl += format ? '/format/' + encodeURIComponent(format) : '';\n  imageUrl += blur ? '/blur/' + encodeURIComponent(blur) : '';\n\n  if (key && domain) {\n    imageUrl = getImageUrl(key, domain) + '?' + imageUrl;\n  }\n\n  return imageUrl;\n} // invoke the watermark api of Qiniu\n\n\nfunction watermark(op, key, domain) {\n  var mode = op.mode;\n\n  if (!mode) {\n    throw \"mode can't be empty in watermark\";\n  }\n\n  var imageUrl = 'watermark/' + mode;\n\n  if (mode !== 1 && mode !== 2) {\n    throw 'mode is wrong';\n  }\n\n  if (mode === 1) {\n    var image = op.image;\n\n    if (!image) {\n      throw \"image can't be empty in watermark\";\n    }\n\n    imageUrl += image ? '/image/' + (0, _base.urlSafeBase64Encode)(image) : '';\n  }\n\n  if (mode === 2) {\n    var text = op.text,\n        font = op.font,\n        fontsize = op.fontsize,\n        fill = op.fill;\n\n    if (!text) {\n      throw \"text can't be empty in watermark\";\n    }\n\n    imageUrl += text ? '/text/' + (0, _base.urlSafeBase64Encode)(text) : '';\n    imageUrl += font ? '/font/' + (0, _base.urlSafeBase64Encode)(font) : '';\n    imageUrl += fontsize ? '/fontsize/' + fontsize : '';\n    imageUrl += fill ? '/fill/' + (0, _base.urlSafeBase64Encode)(fill) : '';\n  }\n\n  var dissolve = op.dissolve,\n      gravity = op.gravity,\n      dx = op.dx,\n      dy = op.dy;\n  imageUrl += dissolve ? '/dissolve/' + encodeURIComponent(dissolve) : '';\n  imageUrl += gravity ? '/gravity/' + encodeURIComponent(gravity) : '';\n  imageUrl += dx ? '/dx/' + encodeURIComponent(dx) : '';\n  imageUrl += dy ? '/dy/' + encodeURIComponent(dy) : '';\n\n  if (key && domain) {\n    imageUrl = getImageUrl(key, domain) + '?' + imageUrl;\n  }\n\n  return imageUrl;\n} // invoke the imageInfo api of Qiniu\n\n\nfunction imageInfo(key, domain) {\n  var url = getImageUrl(key, domain) + '?imageInfo';\n  return (0, _utils.request)(url, {\n    method: 'GET'\n  });\n} // invoke the exif api of Qiniu\n\n\nfunction exif(key, domain) {\n  var url = getImageUrl(key, domain) + '?exif';\n  return (0, _utils.request)(url, {\n    method: 'GET'\n  });\n}\n\nfunction pipeline(arr, key, domain) {\n  var isArray = Object.prototype.toString.call(arr) === '[object Array]';\n  var option;\n  var errOp = false;\n  var imageUrl = '';\n\n  if (isArray) {\n    for (var i = 0, len = arr.length; i < len; i++) {\n      option = arr[i];\n\n      if (!option.fop) {\n        throw \"fop can't be empty in pipeline\";\n      }\n\n      switch (option.fop) {\n        case 'watermark':\n          imageUrl += watermark(option) + '|';\n          break;\n\n        case 'imageView2':\n          imageUrl += imageView2(option) + '|';\n          break;\n\n        case 'imageMogr2':\n          imageUrl += imageMogr2(option) + '|';\n          break;\n\n        default:\n          errOp = true;\n          break;\n      }\n\n      if (errOp) {\n        throw 'fop is wrong in pipeline';\n      }\n    }\n\n    if (key && domain) {\n      imageUrl = getImageUrl(key, domain) + '?' + imageUrl;\n      var length_1 = imageUrl.length;\n\n      if (imageUrl.slice(length_1 - 1) === '|') {\n        imageUrl = imageUrl.slice(0, length_1 - 1);\n      }\n    }\n\n    return imageUrl;\n  }\n\n  throw \"pipeline's first param should be array\";\n}"],"sourceRoot":""}